/*
 # Semantic UI 2.4.1 - Dropdown
 http://github.com/semantic-org/semantic-ui/


 Released under the MIT license
 http://opensource.org/licenses/MIT

*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(d){var p=0;return function(){return p<d.length?{done:!1,value:d[p++]}:{done:!0}}};$jscomp.arrayIterator=function(d){return{next:$jscomp.arrayIteratorImpl(d)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(d,p,m){d!=Array.prototype&&d!=Object.prototype&&(d[p]=m.value)};
$jscomp.getGlobal=function(d){return"undefined"!=typeof window&&window===d?d:"undefined"!=typeof global&&null!=global?global:d};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var d=0;return function(p){return $jscomp.SYMBOL_PREFIX+(p||"")+d++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var d=$jscomp.global.Symbol.iterator;d||(d=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[d]&&$jscomp.defineProperty(Array.prototype,d,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var d=$jscomp.global.Symbol.asyncIterator;d||(d=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(d){$jscomp.initSymbolIterator();d={next:d};d[$jscomp.global.Symbol.iterator]=function(){return this};return d};
$jscomp.iteratorFromArray=function(d,p){$jscomp.initSymbolIterator();d instanceof String&&(d+="");var m=0,l={next:function(){if(m<d.length){var w=m++;return{value:p(w,d[w]),done:!1}}l.next=function(){return{done:!0,value:void 0}};return l.next()}};l[Symbol.iterator]=function(){return l};return l};
$jscomp.polyfill=function(d,p,m,l){if(p){m=$jscomp.global;d=d.split(".");for(l=0;l<d.length-1;l++){var w=d[l];w in m||(m[w]={});m=m[w]}d=d[d.length-1];l=m[d];p=p(l);p!=l&&null!=p&&$jscomp.defineProperty(m,d,{configurable:!0,writable:!0,value:p})}};$jscomp.polyfill("Array.prototype.keys",function(d){return d?d:function(){return $jscomp.iteratorFromArray(this,function(d){return d})}},"es6","es3");
$jscomp.findInternal=function(d,p,m){d instanceof String&&(d=String(d));for(var l=d.length,w=0;w<l;w++){var D=d[w];if(p.call(m,D,w,d))return{i:w,v:D}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(d){return d?d:function(d,m){return $jscomp.findInternal(this,d,m).v}},"es6","es3");$jscomp.polyfill("Array.prototype.values",function(d){return d?d:function(){return $jscomp.iteratorFromArray(this,function(d,m){return m})}},"es8","es3");
(function(d,p,m,l){p="undefined"!=typeof p&&p.Math==Math?p:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();d.fn.dropdown=function(w){var D=d(this),J=d(m),ea=D.selector||"",R="ontouchstart"in m.documentElement,Y=(new Date).getTime(),K=[],fa=arguments[0],ja="string"==typeof fa,ka=[].slice.call(arguments,1),I;D.each(function(ha){var e=d.isPlainObject(w)?d.extend(!0,{},d.fn.dropdown.settings,w):d.extend({},d.fn.dropdown.settings),h=e.className,E=e.message,Z=e.fields,x=e.keys,
u=e.metadata,ia=e.namespace,S=e.regExp,k=e.selector,F=e.error,aa=e.templates,q="."+ia,N="module-"+ia,f=d(this),C=d(e.context),B=f.find(k.text),y=f.find(k.search),T=f.find(k.sizer),v=f.find(k.input),O=f.find(k.icon),U=0<f.prev().find(k.text).length?f.prev().find(k.text):f.prev(),n=f.children(k.menu),r=n.find(k.item),L=!1,ba=!1,ca=!1,A=this,M=f.data(N),da,P,V,G,W,H,Q;var a={initialize:function(){a.debug("Initializing dropdown",e);a.is.alreadySetup()?a.setup.reference():(a.setup.layout(),e.values&&a.change.values(e.values),
a.refreshData(),a.save.defaults(),a.restore.selected(),a.create.id(),a.bind.events(),a.observeChanges(),a.instantiate())},instantiate:function(){a.verbose("Storing instance of dropdown",a);M=a;f.data(N,a)},destroy:function(){a.verbose("Destroying previous dropdown",f);a.remove.tabbable();f.off(q).removeData(N);n.off(q);J.off(G);a.disconnect.menuObserver();a.disconnect.selectObserver()},observeChanges:function(){"MutationObserver"in p&&(H=new MutationObserver(a.event.select.mutation),Q=new MutationObserver(a.event.menu.mutation),
a.debug("Setting up mutation observer",H,Q),a.observe.select(),a.observe.menu())},disconnect:{menuObserver:function(){Q&&Q.disconnect()},selectObserver:function(){H&&H.disconnect()}},observe:{select:function(){a.has.input()&&H.observe(f[0],{childList:!0,subtree:!0})},menu:function(){a.has.menu()&&Q.observe(n[0],{childList:!0,subtree:!0})}},create:{id:function(){W=(Math.random().toString(16)+"000000000").substr(2,8);G="."+W;a.verbose("Creating unique id for element",W)},userChoice:function(b){var c,
g,t;b=b||a.get.userValues();if(!b)return!1;b=d.isArray(b)?b:[b];d.each(b,function(b,k){!1===a.get.item(k)&&(t=e.templates.addition(a.add.variables(E.addResult,k)),g=d("<div />").html(t).attr("data-"+u.value,k).attr("data-"+u.text,k).addClass(h.addition).addClass(h.item),e.hideAdditions&&g.addClass(h.hidden),c=c===l?g:c.add(g),a.verbose("Creating user choices for value",k,g))});return c},userLabels:function(b){if(b=a.get.userValues())a.debug("Adding user labels",b),d.each(b,function(b,g){a.verbose("Adding custom user value");
a.add.label(g,g)})},menu:function(){n=d("<div />").addClass(h.menu).appendTo(f)},sizer:function(){T=d("<span />").addClass(h.sizer).insertAfter(y)}},search:function(b){b=b!==l?b:a.get.query();a.verbose("Searching for query",b);a.has.minCharacters(b)?a.filter(b):a.hide()},select:{firstUnfiltered:function(){a.verbose("Selecting first non-filtered element");a.remove.selectedItem();r.not(k.unselectable).not(k.addition+k.hidden).eq(0).addClass(h.selected)},nextAvailable:function(b){b=b.eq(0);var c=b.nextAll(k.item).not(k.unselectable).eq(0);
b=b.prevAll(k.item).not(k.unselectable).eq(0);0<c.length?(a.verbose("Moving selection to",c),c.addClass(h.selected)):(a.verbose("Moving selection to",b),b.addClass(h.selected))}},setup:{api:function(){var b={debug:e.debug,urlData:{value:a.get.value(),query:a.get.query()},on:!1};a.verbose("First request, initializing API");f.api(b)},layout:function(){f.is("select")&&(a.setup.select(),a.setup.returnedObject());a.has.menu()||a.create.menu();a.is.search()&&!a.has.search()&&(a.verbose("Adding search input"),
y=d("<input />").addClass(h.search).prop("autocomplete","off").insertBefore(B));a.is.multiple()&&a.is.searchSelection()&&!a.has.sizer()&&a.create.sizer();e.allowTab&&a.set.tabbable()},select:function(){var b=a.get.selectValues();a.debug("Dropdown initialized on a select",b);f.is("select")&&(v=f);0<v.parent(k.dropdown).length?(a.debug("UI dropdown already exists. Creating dropdown menu only"),f=v.closest(k.dropdown),a.has.menu()||a.create.menu(),n=f.children(k.menu),a.setup.menu(b)):(a.debug("Creating entire dropdown from select"),
f=d("<div />").attr("class",v.attr("class")).addClass(h.selection).addClass(h.dropdown).html(aa.dropdown(b)).insertBefore(v),v.hasClass(h.multiple)&&!1===v.prop("multiple")&&(a.error(F.missingMultiple),v.prop("multiple",!0)),v.is("[multiple]")&&a.set.multiple(),v.prop("disabled")&&(a.debug("Disabling dropdown"),f.addClass(h.disabled)),v.removeAttr("class").detach().prependTo(f));a.refresh()},menu:function(a){n.html(aa.menu(a,Z));r=n.find(k.item)},reference:function(){a.debug("Dropdown behavior was called on select, replacing with closest dropdown");
f=f.parent(k.dropdown);M=f.data(N);A=f.get(0);a.refresh();a.setup.returnedObject()},returnedObject:function(){var a=D.slice(0,ha),c=D.slice(ha+1);D=a.add(f).add(c)}},refresh:function(){a.refreshSelectors();a.refreshData()},refreshItems:function(){r=n.find(k.item)},refreshSelectors:function(){a.verbose("Refreshing selector cache");B=f.find(k.text);y=f.find(k.search);v=f.find(k.input);O=f.find(k.icon);U=0<f.prev().find(k.text).length?f.prev().find(k.text):f.prev();n=f.children(k.menu);r=n.find(k.item)},
refreshData:function(){a.verbose("Refreshing cached metadata");r.removeData(u.text).removeData(u.value)},clearData:function(){a.verbose("Clearing metadata");r.removeData(u.text).removeData(u.value);f.removeData(u.defaultText).removeData(u.defaultValue).removeData(u.placeholderText)},toggle:function(){a.verbose("Toggling menu visibility");a.is.active()?a.hide():a.show()},show:function(b){b=d.isFunction(b)?b:function(){};!a.can.show()&&a.is.remote()&&(a.debug("No API results retrieved, searching before show"),
a.queryRemote(a.get.query(),a.show));if(a.can.show()&&!a.is.active()){a.debug("Showing dropdown");!a.has.message()||a.has.maxSelections()||a.has.allResultsFiltered()||a.remove.message();if(a.is.allFiltered())return!0;!1!==e.onShow.call(A)&&a.animate.show(function(){a.can.click()&&a.bind.intent();a.has.menuSearch()&&a.focusSearch();a.set.visible();b.call(A)})}},hide:function(b){b=d.isFunction(b)?b:function(){};a.is.active()&&!a.is.animatingOutward()&&(a.debug("Hiding dropdown"),!1!==e.onHide.call(A)&&
a.animate.hide(function(){a.remove.visible();b.call(A)}))},hideOthers:function(){a.verbose("Finding other dropdowns to hide");D.not(f).has(k.menu+"."+h.visible).dropdown("hide")},hideMenu:function(){a.verbose("Hiding menu  instantaneously");a.remove.active();a.remove.visible();n.transition("hide")},hideSubMenus:function(){var b=n.children(k.item).find(k.menu);a.verbose("Hiding sub menus",b);b.transition("hide")},bind:{events:function(){R&&a.bind.touchEvents();a.bind.keyboardEvents();a.bind.inputEvents();
a.bind.mouseEvents()},touchEvents:function(){a.debug("Touch device detected binding additional touch events");if(!a.is.searchSelection()&&a.is.single())f.on("touchstart"+q,a.event.test.toggle);n.on("touchstart"+q,k.item,a.event.item.mouseenter)},keyboardEvents:function(){a.verbose("Binding keyboard events");f.on("keydown"+q,a.event.keydown);if(a.has.search())f.on(a.get.inputEvent()+q,k.search,a.event.input);if(a.is.multiple())J.on("keydown"+G,a.event.document.keydown)},inputEvents:function(){a.verbose("Binding input change events");
f.on("change"+q,k.input,a.event.change)},mouseEvents:function(){a.verbose("Binding mouse events");if(a.is.multiple())f.on("click"+q,k.label,a.event.label.click).on("click"+q,k.remove,a.event.remove.click);if(a.is.searchSelection()){if(f.on("mousedown"+q,a.event.mousedown).on("mouseup"+q,a.event.mouseup).on("mousedown"+q,k.menu,a.event.menu.mousedown).on("mouseup"+q,k.menu,a.event.menu.mouseup).on("click"+q,k.icon,a.event.icon.click).on("focus"+q,k.search,a.event.search.focus).on("click"+q,k.search,
a.event.search.focus).on("blur"+q,k.search,a.event.search.blur).on("click"+q,k.text,a.event.text.focus),a.is.multiple())f.on("click"+q,a.event.click)}else{if("click"==e.on)f.on("click"+q,a.event.test.toggle);else if("hover"==e.on)f.on("mouseenter"+q,a.delay.show).on("mouseleave"+q,a.delay.hide);else f.on(e.on+q,a.toggle);f.on("click"+q,k.icon,a.event.icon.click).on("mousedown"+q,a.event.mousedown).on("mouseup"+q,a.event.mouseup).on("focus"+q,a.event.focus);if(a.has.menuSearch())f.on("blur"+q,k.search,
a.event.search.blur);else f.on("blur"+q,a.event.blur)}n.on("mouseenter"+q,k.item,a.event.item.mouseenter).on("mouseleave"+q,k.item,a.event.item.mouseleave).on("click"+q,k.item,a.event.item.click)},intent:function(){a.verbose("Binding hide intent event to document");if(R)J.on("touchstart"+G,a.event.test.touch).on("touchmove"+G,a.event.test.touch);J.on("click"+G,a.event.test.hide)}},unbind:{intent:function(){a.verbose("Removing hide intent event from document");R&&J.off("touchstart"+G).off("touchmove"+
G);J.off("click"+G)}},filter:function(b){var c=b!==l?b:a.get.query(),g=function(){a.is.multiple()&&a.filterActive();(b||!b&&0==a.get.activeItem().length)&&a.select.firstUnfiltered();a.has.allResultsFiltered()?e.onNoResults.call(A,c)?e.allowAdditions?e.hideAdditions&&(a.verbose("User addition with no menu, setting empty style"),a.set.empty(),a.hideMenu()):(a.verbose("All items filtered, showing message",c),a.add.message(E.noResults)):(a.verbose("All items filtered, hiding dropdown",c),a.hideMenu()):
(a.remove.empty(),a.remove.message());e.allowAdditions&&a.add.userSuggestion(b);a.is.searchSelection()&&a.can.show()&&a.is.focusedOnSearch()&&a.show()};e.useLabels&&a.has.maxSelections()||(e.apiSettings?a.can.useAPI()?a.queryRemote(c,function(){e.filterRemoteData&&a.filterItems(c);g()}):a.error(F.noAPI):(a.filterItems(c),g()))},queryRemote:function(b,c){b={errorDuration:!1,cache:"local",throttle:e.throttle,urlData:{query:b},onError:function(){a.add.message(E.serverError);c()},onFailure:function(){a.add.message(E.serverError);
c()},onSuccess:function(b){var g=b[Z.remoteValues];d.isArray(g)&&0<g.length?(a.remove.message(),a.setup.menu({values:b[Z.remoteValues]})):a.add.message(E.noResults);c()}};f.api("get request")||a.setup.api();b=d.extend(!0,{},b,e.apiSettings);f.api("setting",b).api("query")},filterItems:function(b){var c=b!==l?b:a.get.query(),g=null;b=a.escape.string(c);var t=new RegExp("^"+b,"igm");a.has.query()&&(g=[],a.verbose("Searching for matching values",c),r.each(function(){var b=d(this);if("both"==e.match||
"text"==e.match){var h=String(a.get.choiceText(b,!1));if(-1!==h.search(t)||"exact"===e.fullTextSearch&&a.exactSearch(c,h)||!0===e.fullTextSearch&&a.fuzzySearch(c,h))return g.push(this),!0}if("both"==e.match||"value"==e.match)if(b=String(a.get.choiceValue(b,h)),-1!==b.search(t)||"exact"===e.fullTextSearch&&a.exactSearch(c,b)||!0===e.fullTextSearch&&a.fuzzySearch(c,b))return g.push(this),!0}));a.debug("Showing only matched items",c);a.remove.filteredItem();g&&r.not(g).addClass(h.filtered)},fuzzySearch:function(a,
c){var b=c.length,d=a.length;a=a.toLowerCase();c=c.toLowerCase();if(d>b)return!1;if(d===b)return a===c;var e=0,h=0;a:for(;e<d;e++){for(var k=a.charCodeAt(e);h<b;)if(c.charCodeAt(h++)===k)continue a;return!1}return!0},exactSearch:function(a,c){a=a.toLowerCase();c=c.toLowerCase();return-1<c.indexOf(a)?!0:!1},filterActive:function(){e.useLabels&&r.filter("."+h.active).addClass(h.filtered)},focusSearch:function(b){a.has.search()&&!a.is.focusedOnSearch()&&(b?(f.off("focus"+q,k.search),y.focus(),f.on("focus"+
q,k.search,a.event.search.focus)):y.focus())},forceSelection:function(){var b=r.not(h.filtered).filter("."+h.selected).eq(0),c=r.not(h.filtered).filter("."+h.active).eq(0);b=0<b.length?b:c;0<b.length&&!a.is.multiple()?(a.debug("Forcing partial selection to selected item",b),a.event.item.click.call(b,{},!0)):(e.allowAdditions&&a.set.selected(a.get.query()),a.remove.searchTerm())},change:{values:function(b){e.allowAdditions||a.clear();a.debug("Creating dropdown with specified values",b);a.setup.menu({values:b});
d.each(b,function(b,g){if(1==g.selected)return a.debug("Setting initial selection to",g.value),a.set.selected(g.value),!0})}},event:{change:function(){ca||(a.debug("Input changed, updating selection"),a.set.selected())},focus:function(){e.showOnFocus&&!L&&a.is.hidden()&&!P&&a.show()},blur:function(b){P=m.activeElement===this;L||P||(a.remove.activeLabel(),a.hide())},mousedown:function(){a.is.searchSelection()?V=!0:L=!0},mouseup:function(){a.is.searchSelection()?V=!1:L=!1},click:function(b){d(b.target).is(f)&&
(a.is.focusedOnSearch()?a.show():a.focusSearch())},search:{focus:function(){L=!0;a.is.multiple()&&a.remove.activeLabel();e.showOnFocus&&a.search()},blur:function(b){P=m.activeElement===this;!a.is.searchSelection()||V||ba||P||(e.forceSelection&&a.forceSelection(),a.hide());V=!1}},icon:{click:function(b){O.hasClass(h.clear)?a.clear():a.can.click()&&a.toggle()}},text:{focus:function(b){L=!0;a.focusSearch()}},input:function(b){(a.is.multiple()||a.is.searchSelection())&&a.set.filtered();clearTimeout(a.timer);
a.timer=setTimeout(a.search,e.delay.search)},label:{click:function(a){var b=d(this),g=f.find(k.label),t=g.filter("."+h.active),X=b.nextAll("."+h.active),z=b.prevAll("."+h.active);X=0<X.length?b.nextUntil(X).add(t).add(b):b.prevUntil(z).add(t).add(b);a.shiftKey?(t.removeClass(h.active),X.addClass(h.active)):a.ctrlKey?b.toggleClass(h.active):(t.removeClass(h.active),b.addClass(h.active));e.onLabelSelect.apply(this,g.filter("."+h.active))}},remove:{click:function(){var b=d(this).parent();b.hasClass(h.active)?
a.remove.activeLabels():a.remove.activeLabels(b)}},test:{toggle:function(b){var c=a.is.multiple()?a.show:a.toggle;a.is.bubbledLabelClick(b)||a.is.bubbledIconClick(b)||a.determine.eventOnElement(b,c)&&b.preventDefault()},touch:function(b){a.determine.eventOnElement(b,function(){"touchstart"==b.type?a.timer=setTimeout(function(){a.hide()},e.delay.touch):"touchmove"==b.type&&clearTimeout(a.timer)});b.stopPropagation()},hide:function(b){a.determine.eventInModule(b,a.hide)}},select:{mutation:function(b){a.debug("<select> modified, recreating menu");
var c=!1;d.each(b,function(a,b){if(d(b.target).is("select")||d(b.addedNodes).is("select"))return c=!0});c&&(a.disconnect.selectObserver(),a.refresh(),a.setup.select(),a.set.selected(),a.observe.select())}},menu:{mutation:function(b){var c=b[0];b=c.addedNodes?d(c.addedNodes[0]):d(!1);c=c.removedNodes?d(c.removedNodes[0]):d(!1);c=b.add(c);b=c.is(k.addition)||0<c.closest(k.addition).length;c=c.is(k.message)||0<c.closest(k.message).length;b||c?(a.debug("Updating item selector cache"),a.refreshItems()):
(a.debug("Menu modified, updating selector cache"),a.refresh())},mousedown:function(){ba=!0},mouseup:function(){ba=!1}},item:{mouseenter:function(b){var c=d(b.target),g=d(this),t=g.children(k.menu),h=g.siblings(k.item).children(k.menu);g=0<t.length;0<t.find(c).length||!g||(clearTimeout(a.itemTimer),a.itemTimer=setTimeout(function(){a.verbose("Showing sub-menu",t);d.each(h,function(){a.animate.hide(!1,d(this))});a.animate.show(!1,t)},e.delay.show),b.preventDefault())},mouseleave:function(b){var c=
d(this).children(k.menu);0<c.length&&(clearTimeout(a.itemTimer),a.itemTimer=setTimeout(function(){a.verbose("Hiding sub-menu",c);a.animate.hide(!1,c)},e.delay.hide))},click:function(b,c){var g=d(this),t=b?d(b.target):d(""),h=g.find(k.menu);b=a.get.choiceText(g);var f=a.get.choiceValue(g,b),l=0<h.length;t=0<h.find(t).length;a.has.menuSearch()&&d(m.activeElement).blur();t||l&&!e.allowCategorySelection||(a.is.searchSelection()&&(e.allowAdditions&&a.remove.userAddition(),a.remove.searchTerm(),a.is.focusedOnSearch()||
1==c||a.focusSearch(!0)),e.useLabels||(a.remove.filteredItem(),a.set.scrollPosition(g)),a.determine.selectAction.call(this,b,f))}},document:{keydown:function(b){var c=b.which;if(a.is.inObject(c,x)){var g=f.find(k.label),d=g.filter("."+h.active);d.data(u.value);var e=g.index(d),z=0<d.length,l=1<d.length,n=0===e;e=e+1==g.length;var q=a.is.searchSelection(),w=a.is.focusedOnSearch(),r=a.is.focused(),m=w&&0===a.get.caretPosition();if(!q||z||w)c==x.leftArrow?!r&&!m||z?z&&(b.shiftKey?a.verbose("Adding previous label to selection"):
(a.verbose("Selecting previous label"),g.removeClass(h.active)),n&&!l?d.addClass(h.active):d.prev(k.siblingLabel).addClass(h.active).end(),b.preventDefault()):(a.verbose("Selecting previous label"),g.last().addClass(h.active)):c==x.rightArrow?(r&&!z&&g.first().addClass(h.active),z&&(b.shiftKey?a.verbose("Adding next label to selection"):(a.verbose("Selecting next label"),g.removeClass(h.active)),e?q?w?g.removeClass(h.active):a.focusSearch():l?d.next(k.siblingLabel).addClass(h.active):d.addClass(h.active):
d.next(k.siblingLabel).addClass(h.active),b.preventDefault())):c==x.deleteKey||c==x.backspace?z?(a.verbose("Removing active labels"),e&&q&&!w&&a.focusSearch(),d.last().next(k.siblingLabel).addClass(h.active),a.remove.activeLabels(d),b.preventDefault()):m&&!z&&c==x.backspace&&(a.verbose("Removing last label on input backspace"),d=g.last().addClass(h.active),a.remove.activeLabels(d)):d.removeClass(h.active)}}},keydown:function(b){var c=b.which;if(a.is.inObject(c,x)){var g=r.not(k.unselectable).filter("."+
h.selected).eq(0),d=n.children("."+h.active).eq(0);g=0<g.length?g:d;d=0<g.length?g.siblings(":not(."+h.filtered+")").addBack():n.children(":not(."+h.filtered+")");var f=g.children(k.menu),z=g.closest(k.menu),l=z.hasClass(h.visible)||z.hasClass(h.animating)||0<z.parent(k.menu).length,w=0<f.length,q=0<g.length,m=0<g.not(k.unselectable).length,p=c==x.delimiter&&e.allowAdditions&&a.is.multiple();e.allowAdditions&&e.hideAdditions&&(c==x.enter||p)&&m&&(a.verbose("Selecting item from keyboard shortcut",
g),a.event.item.click.call(g,b),a.is.searchSelection()&&a.remove.searchTerm());if(a.is.visible()){if(c==x.enter||p)c==x.enter&&q&&w&&!e.allowCategorySelection?(a.verbose("Pressed enter on unselectable category, opening sub menu"),c=x.rightArrow):m&&(a.verbose("Selecting item from keyboard shortcut",g),a.event.item.click.call(g,b),a.is.searchSelection()&&a.remove.searchTerm()),b.preventDefault();q&&(c==x.leftArrow&&(m=z[0]!==n[0])&&(a.verbose("Left key pressed, closing sub-menu"),a.animate.hide(!1,
z),g.removeClass(h.selected),z.closest(k.item).addClass(h.selected),b.preventDefault()),c==x.rightArrow&&w&&(a.verbose("Right key pressed, opening sub-menu"),a.animate.show(!1,f),g.removeClass(h.selected),f.find(k.item).eq(0).addClass(h.selected),b.preventDefault()));if(c==x.upArrow){f=q&&l?g.prevAll(k.item+":not("+k.unselectable+")").eq(0):r.eq(0);if(0>d.index(f)){a.verbose("Up key pressed but reached top of current menu");b.preventDefault();return}a.verbose("Up key pressed, changing active item");
g.removeClass(h.selected);f.addClass(h.selected);a.set.scrollPosition(f);e.selectOnKeydown&&a.is.single()&&a.set.selectedItem(f);b.preventDefault()}if(c==x.downArrow){f=q&&l?f=g.nextAll(k.item+":not("+k.unselectable+")").eq(0):r.eq(0);if(0===f.length){a.verbose("Down key pressed but reached bottom of current menu");b.preventDefault();return}a.verbose("Down key pressed, changing active item");r.removeClass(h.selected);f.addClass(h.selected);a.set.scrollPosition(f);e.selectOnKeydown&&a.is.single()&&
a.set.selectedItem(f);b.preventDefault()}c==x.pageUp&&(a.scrollPage("up"),b.preventDefault());c==x.pageDown&&(a.scrollPage("down"),b.preventDefault());c==x.escape&&(a.verbose("Escape key pressed, closing dropdown"),a.hide())}else p&&b.preventDefault(),c!=x.downArrow||a.is.visible()||(a.verbose("Down key pressed, showing dropdown"),a.show(),b.preventDefault())}else a.has.search()||a.set.selectedLetter(String.fromCharCode(c))}},trigger:{change:function(){var b=m.createEvent("HTMLEvents"),c=v[0];c&&
(a.verbose("Triggering native change event"),b.initEvent("change",!0,!1),c.dispatchEvent(b))}},determine:{selectAction:function(b,c){a.verbose("Determining action",e.action);d.isFunction(a.action[e.action])?(a.verbose("Triggering preset action",e.action,b,c),a.action[e.action].call(A,b,c,this)):d.isFunction(e.action)?(a.verbose("Triggering user action",e.action,b,c),e.action.call(A,b,c,this)):a.error(F.action,e.action)},eventInModule:function(b,c){var g=d(b.target);b=0<g.closest(m.documentElement).length;
g=0<g.closest(f).length;c=d.isFunction(c)?c:function(){};if(b&&!g)return a.verbose("Triggering event",c),c(),!0;a.verbose("Event occurred in dropdown, canceling callback");return!1},eventOnElement:function(b,c){var g=d(b.target),e=g.closest(k.siblingLabel);b=m.body.contains(b.target);e=0===f.find(e).length;g=0===g.closest(n).length;c=d.isFunction(c)?c:function(){};if(b&&e&&g)return a.verbose("Triggering event",c),c(),!0;a.verbose("Event occurred in dropdown menu, canceling callback");return!1}},action:{nothing:function(){},
activate:function(b,c,g){c=c!==l?c:b;a.can.activate(d(g))&&(a.set.selected(c,d(g)),a.is.multiple()&&!a.is.allFiltered()||a.hideAndClear())},select:function(b,c,g){c=c!==l?c:b;a.can.activate(d(g))&&(a.set.value(c,b,d(g)),a.is.multiple()&&!a.is.allFiltered()||a.hideAndClear())},combo:function(b,c,g){c=c!==l?c:b;a.set.selected(c,d(g));a.hideAndClear()},hide:function(b,c,g){a.set.value(c,b,d(g));a.hideAndClear()}},get:{id:function(){return W},defaultText:function(){return f.data(u.defaultText)},defaultValue:function(){return f.data(u.defaultValue)},
placeholderText:function(){return"auto"!=e.placeholder&&"string"==typeof e.placeholder?e.placeholder:f.data(u.placeholderText)||""},text:function(){return B.text()},query:function(){return d.trim(y.val())},searchWidth:function(a){a=a!==l?a:y.val();T.text(a);return Math.ceil(T.width()+1)},selectionCount:function(){var b=a.get.values();return a.is.multiple()?d.isArray(b)?b.length:0:""!==a.get.value()?1:0},transition:function(b){return"auto"==e.transition?a.is.upward(b)?"slide up":"slide down":e.transition},
userValues:function(){var b=a.get.values();if(!b)return!1;b=d.isArray(b)?b:[b];return d.grep(b,function(b){return!1===a.get.item(b)})},uniqueArray:function(a){return d.grep(a,function(b,g){return d.inArray(b,a)===g})},caretPosition:function(){var a=y.get(0);if("selectionStart"in a)return a.selectionStart;if(m.selection){a.focus();var c=m.selection.createRange();var g=c.text.length;c.moveStart("character",-a.value.length);return c.text.length-g}},value:function(){var a=0<v.length?v.val():f.data(u.value),
c=d.isArray(a)&&1===a.length&&""===a[0];return a===l||c?"":a},values:function(){var b=a.get.value();return""===b?"":!a.has.selectInput()&&a.is.multiple()?"string"==typeof b?b.split(e.delimiter):"":b},remoteValues:function(){var b=a.get.values(),c=!1;b&&("string"==typeof b&&(b=[b]),d.each(b,function(b,d){b=a.read.remoteData(d);a.verbose("Restoring value from session data",b,d);b&&(c||(c={}),c[d]=b)}));return c},choiceText:function(b,c){c=c!==l?c:e.preserveHTML;if(b)return 0<b.find(k.menu).length&&
(a.verbose("Retrieving text of element with sub-menu"),b=b.clone(),b.find(k.menu).remove(),b.find(k.menuIcon).remove()),b.data(u.text)!==l?b.data(u.text):c?d.trim(b.html()):d.trim(b.text())},choiceValue:function(b,c){c=c||a.get.choiceText(b);return b?b.data(u.value)!==l?String(b.data(u.value)):"string"===typeof c?d.trim(c.toLowerCase()):String(c):!1},inputEvent:function(){var a=y[0];return a?a.oninput!==l?"input":a.onpropertychange!==l?"propertychange":"keyup":!1},selectValues:function(){var b={values:[]};
f.find("option").each(function(){var a=d(this),g=a.html(),t=a.attr("disabled");a=a.attr("value")!==l?a.attr("value"):g;"auto"===e.placeholder&&""===a?b.placeholder=g:b.values.push({name:g,value:a,disabled:t})});e.placeholder&&"auto"!==e.placeholder&&(a.debug("Setting placeholder value to",e.placeholder),b.placeholder=e.placeholder);e.sortSelect?(b.values.sort(function(a,b){return a.name>b.name?1:-1}),a.debug("Retrieved and sorted values from select",b)):a.debug("Retrieved values from select",b);return b},
activeItem:function(){return r.filter("."+h.active)},selectedItem:function(){var a=r.not(k.unselectable).filter("."+h.selected);return 0<a.length?a:r.eq(0)},itemWithAdditions:function(b){var c=a.get.item(b);(b=a.create.userChoice(b))&&0<b.length&&(c=0<c.length?c.add(b):b);return c},item:function(b,c){var g=!1;b=b!==l?b:a.get.values()!==l?a.get.values():a.get.text();var e=h?0<b.length:b!==l&&null!==b;var h=a.is.multiple()&&d.isArray(b);c=""===b||0===b?!0:c||!1;e&&r.each(function(){var e=d(this),t=
a.get.choiceText(e),f=a.get.choiceValue(e,t);if(null!==f&&f!==l)if(h){if(-1!==d.inArray(String(f),b)||-1!==d.inArray(t,b))g=g?g.add(e):e}else if(c){if(a.verbose("Ambiguous dropdown value using strict type check",e,b),f===b||t===b)return g=e,!0}else if(String(f)==String(b)||t==b)return a.verbose("Found select item by value",f,b),g=e,!0});return g}},check:{maxSelections:function(b){if(e.maxSelections)if(b=b!==l?b:a.get.selectionCount(),b>=e.maxSelections)a.debug("Maximum selection count reached"),e.useLabels&&
(r.addClass(h.filtered),a.add.message(E.maxSelections));else return a.verbose("No longer at maximum selection count"),a.remove.message(),a.remove.filteredItem(),a.is.searchSelection()&&a.filterItems(),!1;return!0}},restore:{defaults:function(){a.clear();a.restore.defaultText();a.restore.defaultValue()},defaultText:function(){var b=a.get.defaultText();b===a.get.placeholderText?(a.debug("Restoring default placeholder text",b),a.set.placeholderText(b)):(a.debug("Restoring default text",b),a.set.text(b))},
placeholderText:function(){a.set.placeholderText()},defaultValue:function(){var b=a.get.defaultValue();b!==l&&(a.debug("Restoring default value",b),""!==b?(a.set.value(b),a.set.selected()):(a.remove.activeItem(),a.remove.selectedItem()))},labels:function(){e.allowAdditions&&(e.useLabels||(a.error(F.labels),e.useLabels=!0),a.debug("Restoring selected values"),a.create.userLabels());a.check.maxSelections()},selected:function(){a.restore.values();a.is.multiple()?(a.debug("Restoring previously selected values and labels"),
a.restore.labels()):a.debug("Restoring previously selected values")},values:function(){a.set.initialLoad();e.apiSettings&&e.saveRemoteData&&a.get.remoteValues()?a.restore.remoteValues():a.set.selected();a.remove.initialLoad()},remoteValues:function(){var b=a.get.remoteValues();a.debug("Recreating selected from session data",b);b&&(a.is.single()?d.each(b,function(b,g){a.set.text(g)}):d.each(b,function(b,g){a.add.label(b,g)}))}},read:{remoteData:function(b){if(p.Storage===l)a.error(F.noStorage);else return b=
sessionStorage.getItem(b),b!==l?b:!1}},save:{defaults:function(){a.save.defaultText();a.save.placeholderText();a.save.defaultValue()},defaultValue:function(){var b=a.get.value();a.verbose("Saving default value as",b);f.data(u.defaultValue,b)},defaultText:function(){var b=a.get.text();a.verbose("Saving default text as",b);f.data(u.defaultText,b)},placeholderText:function(){if(!1!==e.placeholder&&B.hasClass(h.placeholder)){var b=a.get.text();a.verbose("Saving placeholder text as",b);f.data(u.placeholderText,
b)}},remoteData:function(b,c){p.Storage===l?a.error(F.noStorage):(a.verbose("Saving remote data to session storage",c,b),sessionStorage.setItem(c,b))}},clear:function(){a.is.multiple()&&e.useLabels?a.remove.labels():(a.remove.activeItem(),a.remove.selectedItem());a.set.placeholderText();a.clearValue()},clearValue:function(){a.set.value("")},scrollPage:function(b,c){c=c||a.get.selectedItem();var g=c.closest(k.menu),d=g.outerHeight(),f=g.scrollTop(),l=r.eq(0).outerHeight();d=Math.floor(d/l);g.prop("scrollHeight");
f="up"==b?f-l*d:f+l*d;l=r.not(k.unselectable);d="up"==b?l.index(c)-d:l.index(c)+d;d=("up"==b?0<=d:d<l.length)?l.eq(d):"up"==b?l.first():l.last();0<d.length&&(a.debug("Scrolling page",b,d),c.removeClass(h.selected),d.addClass(h.selected),e.selectOnKeydown&&a.is.single()&&a.set.selectedItem(d),g.scrollTop(f))},set:{filtered:function(){var b=a.is.multiple(),c=a.is.searchSelection(),d=b&&c,t=c?a.get.query():"";c="string"===typeof t&&0<t.length;var f=a.get.searchWidth();t=""!==t;b&&c&&(a.verbose("Adjusting input width",
f,e.glyphWidth),y.css("width",f));if(c||d&&t)a.verbose("Hiding placeholder text"),B.addClass(h.filtered);else if(!b||d&&!t)a.verbose("Showing placeholder text"),B.removeClass(h.filtered)},empty:function(){f.addClass(h.empty)},loading:function(){f.addClass(h.loading)},placeholderText:function(b){b=b||a.get.placeholderText();a.debug("Setting placeholder text",b);a.set.text(b);B.addClass(h.placeholder)},tabbable:function(){a.is.searchSelection()?(a.debug("Added tabindex to searchable dropdown"),y.val("").attr("tabindex",
0),n.attr("tabindex",-1)):(a.debug("Added tabindex to dropdown"),f.attr("tabindex")===l&&(f.attr("tabindex",0),n.attr("tabindex",-1)))},initialLoad:function(){a.verbose("Setting initial load");da=!0},activeItem:function(a){e.allowAdditions&&0<a.filter(k.addition).length?a.addClass(h.filtered):a.addClass(h.active)},partialSearch:function(b){var c=a.get.query().length;y.val(b.substr(0,c))},scrollPosition:function(b,c){b=b||a.get.selectedItem();var d=b.closest(k.menu);var e=b&&0<b.length;c=c!==l?c:!1;
if(b&&0<d.length&&e){b.position();d.addClass(h.loading);e=d.scrollTop();var f=d.offset().top;b=b.offset().top;b=e-f+b;if(!c){var z=d.height();var n=e+z<b+5;z=b-5<e}a.debug("Scrolling to active item",b);(c||z||n)&&d.scrollTop(b);d.removeClass(h.loading)}},text:function(b){"select"!==e.action&&("combo"==e.action?(a.debug("Changing combo button text",b,U),e.preserveHTML?U.html(b):U.text(b)):(b!==a.get.placeholderText()&&B.removeClass(h.placeholder),a.debug("Changing text",b,B),B.removeClass(h.filtered),
e.preserveHTML?B.html(b):B.text(b)))},selectedItem:function(b){var c=a.get.choiceValue(b),d=a.get.choiceText(b,!1),e=a.get.choiceText(b,!0);a.debug("Setting user selection to item",b);a.remove.activeItem();a.set.partialSearch(d);a.set.activeItem(b);a.set.selected(c,b);a.set.text(e)},selectedLetter:function(b){var c=r.filter("."+h.selected),g=!1;if(0<c.length&&a.has.firstLetter(c,b)){var f=c.nextAll(r).eq(0);a.has.firstLetter(f,b)&&(g=f)}g||r.each(function(){if(a.has.firstLetter(d(this),b))return g=
d(this),!1});g&&(a.verbose("Scrolling to next value with letter",b),a.set.scrollPosition(g),c.removeClass(h.selected),g.addClass(h.selected),e.selectOnKeydown&&a.is.single()&&a.set.selectedItem(g))},direction:function(b){"auto"==e.direction?(a.remove.upward(),a.can.openDownward(b)?a.remove.upward(b):a.set.upward(b),a.is.leftward(b)||a.can.openRightward(b)||a.set.leftward(b)):"upward"==e.direction&&a.set.upward(b)},upward:function(a){(a||f).addClass(h.upward)},leftward:function(a){(a||n).addClass(h.leftward)},
value:function(b,c,d){var g=a.escape.value(b),h=0<v.length,k=a.get.values(),n=b!==l?String(b):b;if(h){if(!e.allowReselection&&n==k&&(a.verbose("Skipping value update already same value",b,k),!a.is.initialLoad()))return;a.is.single()&&a.has.selectInput()&&a.can.extendSelect()&&(a.debug("Adding user option",b),a.add.optionValue(b));a.debug("Updating input value",g,k);ca=!0;v.val(g);!1===e.fireOnInit&&a.is.initialLoad()?a.debug("Input native change event ignored on initial load"):a.trigger.change();
ca=!1}else a.verbose("Storing value in metadata",g,v),g!==k&&f.data(u.value,n);a.is.single()&&e.clearable&&(g?a.set.clearable():a.remove.clearable());!1===e.fireOnInit&&a.is.initialLoad()?a.verbose("No callback on initial load",e.onChange):e.onChange.call(A,b,c,d)},active:function(){f.addClass(h.active)},multiple:function(){f.addClass(h.multiple)},visible:function(){f.addClass(h.visible)},exactly:function(b,c){a.debug("Setting selected to exact values");a.clear();a.set.selected(b,c)},selected:function(b,
c){var g=a.is.multiple();if(c=e.allowAdditions?c||a.get.itemWithAdditions(b):c||a.get.item(b))a.debug("Setting selected menu item to",c),a.is.multiple()&&a.remove.searchWidth(),a.is.single()?(a.remove.activeItem(),a.remove.selectedItem()):e.useLabels&&a.remove.selectedItem(),c.each(function(){var b=d(this),f=a.get.choiceText(b),k=a.get.choiceValue(b,f),l=b.hasClass(h.filtered),n=b.hasClass(h.active),q=b.hasClass(h.addition),w=g&&1==c.length;g?!n||q?(e.apiSettings&&e.saveRemoteData&&a.save.remoteData(f,
k),e.useLabels?(a.add.label(k,f,w),a.add.value(k,f,b),a.set.activeItem(b),a.filterActive(),a.select.nextAvailable(c)):(a.add.value(k,f,b),a.set.text(a.add.variables(E.count)),a.set.activeItem(b))):l||(a.debug("Selected active value, removing label"),a.remove.selected(k)):(e.apiSettings&&e.saveRemoteData&&a.save.remoteData(f,k),a.set.text(f),a.set.value(k,f,b),b.addClass(h.active).addClass(h.selected))})},clearable:function(){O.addClass(h.clear)}},add:{label:function(b,c,g){var f=a.is.searchSelection()?
y:B,k=a.escape.value(b);e.ignoreCase&&(k=k.toLowerCase());var l=d("<a />").addClass(h.label).attr("data-"+u.value,k).html(aa.label(k,c));l=e.onLabelCreate.call(l,k,c);a.has.label(b)?a.debug("User selection already exists, skipping",k):(e.label.variation&&l.addClass(e.label.variation),!0===g?(a.debug("Animating in label",l),l.addClass(h.hidden).insertBefore(f).transition(e.label.transition,e.label.duration)):(a.debug("Adding selection label",l),l.insertBefore(f)))},message:function(b){var c=n.children(k.message);
b=e.templates.message(a.add.variables(b));0<c.length?c.html(b):d("<div/>").html(b).addClass(h.message).appendTo(n)},optionValue:function(b){var c=a.escape.value(b);0<v.find('option[value="'+a.escape.string(c)+'"]').length||(a.disconnect.selectObserver(),a.is.single()&&(a.verbose("Removing previous user addition"),v.find("option."+h.addition).remove()),d("<option/>").prop("value",c).addClass(h.addition).html(b).appendTo(v),a.verbose("Adding user addition as an <option>",b),a.observe.select())},userSuggestion:function(b){var c=
n.children(k.addition),d=a.get.item(b);d=d&&d.not(k.addition).length;var f=0<c.length;e.useLabels&&a.has.maxSelections()||(""===b||d?c.remove():(f?(c.data(u.value,b).data(u.text,b).attr("data-"+u.value,b).attr("data-"+u.text,b).removeClass(h.filtered),e.hideAdditions||(b=e.templates.addition(a.add.variables(E.addResult,b)),c.html(b)),a.verbose("Replacing user suggestion with new value",c)):(c=a.create.userChoice(b),c.prependTo(n),a.verbose("Adding item choice to menu corresponding with user choice addition",
c)),e.hideAdditions&&!a.is.allFiltered()||c.addClass(h.selected).siblings().removeClass(h.selected),a.refreshItems()))},variables:function(b,c){var d=-1!==b.search("{count}"),f=-1!==b.search("{maxCount}"),h=-1!==b.search("{term}");a.verbose("Adding templated variables to message",b);d&&(d=a.get.selectionCount(),b=b.replace("{count}",d));f&&(a.get.selectionCount(),b=b.replace("{maxCount}",e.maxSelections));h&&(c=c||a.get.query(),b=b.replace("{term}",c));return b},value:function(b,c,g){var f=a.get.values();
a.has.value(b)?a.debug("Value already selected"):""===b?a.debug("Cannot select blank values from multiselect"):(d.isArray(f)?(f=f.concat([b]),f=a.get.uniqueArray(f)):f=[b],a.has.selectInput()?a.can.extendSelect()&&(a.debug("Adding value to select",b,f,v),a.add.optionValue(b)):(f=f.join(e.delimiter),a.debug("Setting hidden input to delimited value",f,v)),!1===e.fireOnInit&&a.is.initialLoad()?a.verbose("Skipping onadd callback on initial load",e.onAdd):e.onAdd.call(A,b,c,g),a.set.value(f,b,c,g),a.check.maxSelections())}},
remove:{active:function(){f.removeClass(h.active)},activeLabel:function(){f.find(k.label).removeClass(h.active)},empty:function(){f.removeClass(h.empty)},loading:function(){f.removeClass(h.loading)},initialLoad:function(){da=!1},upward:function(a){(a||f).removeClass(h.upward)},leftward:function(a){(a||n).removeClass(h.leftward)},visible:function(){f.removeClass(h.visible)},activeItem:function(){r.removeClass(h.active)},filteredItem:function(){e.useLabels&&a.has.maxSelections()||(e.useLabels&&a.is.multiple()?
r.not("."+h.active).removeClass(h.filtered):r.removeClass(h.filtered),a.remove.empty())},optionValue:function(b){b=a.escape.value(b);var c=v.find('option[value="'+a.escape.string(b)+'"]');0<c.length&&c.hasClass(h.addition)&&(H&&(H.disconnect(),a.verbose("Temporarily disconnecting mutation observer")),c.remove(),a.verbose("Removing user addition as an <option>",b),H&&H.observe(v[0],{childList:!0,subtree:!0}))},message:function(){n.children(k.message).remove()},searchWidth:function(){y.css("width",
"")},searchTerm:function(){a.verbose("Cleared search term");y.val("");a.set.filtered()},userAddition:function(){r.filter(k.addition).remove()},selected:function(b,c){c=e.allowAdditions?c||a.get.itemWithAdditions(b):c||a.get.item(b);if(!c)return!1;c.each(function(){var b=d(this),c=a.get.choiceText(b),f=a.get.choiceValue(b,c);a.is.multiple()?e.useLabels?(a.remove.value(f,c,b),a.remove.label(f)):(a.remove.value(f,c,b),0===a.get.selectionCount()?a.set.placeholderText():a.set.text(a.add.variables(E.count))):
a.remove.value(f,c,b);b.removeClass(h.filtered).removeClass(h.active);e.useLabels&&b.removeClass(h.selected)})},selectedItem:function(){r.removeClass(h.selected)},value:function(b,c,d){var g=a.get.values();a.has.selectInput()?(a.verbose("Input is <select> removing selected option",b),g=a.remove.arrayValue(b,g),a.remove.optionValue(b)):(a.verbose("Removing from delimited values",b),g=a.remove.arrayValue(b,g),g=g.join(e.delimiter));!1===e.fireOnInit&&a.is.initialLoad()?a.verbose("No callback on initial load",
e.onRemove):e.onRemove.call(A,b,c,d);a.set.value(g,c,d);a.check.maxSelections()},arrayValue:function(b,c){d.isArray(c)||(c=[c]);c=d.grep(c,function(a){return b!=a});a.verbose("Removed value from delimited string",b,c);return c},label:function(b,c){b=f.find(k.label).filter("[data-"+u.value+'="'+a.escape.string(b)+'"]');a.verbose("Removing label",b);b.remove()},activeLabels:function(b){b=b||f.find(k.label).filter("."+h.active);a.verbose("Removing active label selections",b);a.remove.labels(b)},labels:function(b){b=
b||f.find(k.label);a.verbose("Removing labels",b);b.each(function(){var b=d(this),g=b.data(u.value),f=g!==l?String(g):g,h=a.is.userValue(f);!1===e.onLabelRemove.call(b,g)?a.debug("Label remove callback cancelled removal"):(a.remove.message(),h?(a.remove.value(f),a.remove.label(f)):a.remove.selected(f))})},tabbable:function(){a.is.searchSelection()?(a.debug("Searchable dropdown initialized"),y.removeAttr("tabindex")):(a.debug("Simple selection dropdown initialized"),f.removeAttr("tabindex"));n.removeAttr("tabindex")},
clearable:function(){O.removeClass(h.clear)}},has:{menuSearch:function(){return a.has.search()&&0<y.closest(n).length},search:function(){return 0<y.length},sizer:function(){return 0<T.length},selectInput:function(){return v.is("select")},minCharacters:function(b){return e.minCharacters?(b=b!==l?String(b):String(a.get.query()),b.length>=e.minCharacters):!0},firstLetter:function(b,c){if(!b||0===b.length||"string"!==typeof c)return!1;b=a.get.choiceText(b,!1);c=c.toLowerCase();b=String(b).charAt(0).toLowerCase();
return c==b},input:function(){return 0<v.length},items:function(){return 0<r.length},menu:function(){return 0<n.length},message:function(){return 0!==n.children(k.message).length},label:function(b){b=a.escape.value(b);var c=f.find(k.label);e.ignoreCase&&(b=b.toLowerCase());return 0<c.filter("[data-"+u.value+'="'+a.escape.string(b)+'"]').length},maxSelections:function(){return e.maxSelections&&a.get.selectionCount()>=e.maxSelections},allResultsFiltered:function(){var a=r.not(k.addition);return a.filter(k.unselectable).length===
a.length},userSuggestion:function(){return 0<n.children(k.addition).length},query:function(){return""!==a.get.query()},value:function(b){return e.ignoreCase?a.has.valueIgnoringCase(b):a.has.valueMatchingCase(b)},valueMatchingCase:function(b){var c=a.get.values();return(d.isArray(c)?c&&-1!==d.inArray(b,c):c==b)?!0:!1},valueIgnoringCase:function(b){var c=a.get.values(),e=!1;d.isArray(c)||(c=[c]);d.each(c,function(a,c){if(String(b).toLowerCase()==String(c).toLowerCase())return e=!0,!1});return e}},is:{active:function(){return f.hasClass(h.active)},
animatingInward:function(){return n.transition("is inward")},animatingOutward:function(){return n.transition("is outward")},bubbledLabelClick:function(a){return d(a.target).is("select, input")&&0<f.closest("label").length},bubbledIconClick:function(a){return 0<d(a.target).closest(O).length},alreadySetup:function(){return f.is("select")&&f.parent(k.dropdown).data(N)!==l&&0===f.prev().length},animating:function(a){return a?a.transition&&a.transition("is animating"):n.transition&&n.transition("is animating")},
leftward:function(a){return(a||n).hasClass(h.leftward)},disabled:function(){return f.hasClass(h.disabled)},focused:function(){return m.activeElement===f[0]},focusedOnSearch:function(){return m.activeElement===y[0]},allFiltered:function(){return(a.is.multiple()||a.has.search())&&!(0==e.hideAdditions&&a.has.userSuggestion())&&!a.has.message()&&a.has.allResultsFiltered()},hidden:function(b){return!a.is.visible(b)},initialLoad:function(){return da},inObject:function(a,c){var b=!1;d.each(c,function(c,
d){if(d==a)return b=!0});return b},multiple:function(){return f.hasClass(h.multiple)},remote:function(){return e.apiSettings&&a.can.useAPI()},single:function(){return!a.is.multiple()},selectMutation:function(a){var b=!1;d.each(a,function(a,c){if(c.target&&d(c.target).is("select"))return b=!0});return b},search:function(){return f.hasClass(h.search)},searchSelection:function(){return a.has.search()&&1===y.parent(k.dropdown).length},selection:function(){return f.hasClass(h.selection)},userValue:function(b){return-1!==
d.inArray(b,a.get.userValues())},upward:function(a){return(a||f).hasClass(h.upward)},visible:function(a){return a?a.hasClass(h.visible):n.hasClass(h.visible)},verticallyScrollableContext:function(){var a=C.get(0)!==p?C.css("overflow-y"):!1;return"auto"==a||"scroll"==a},horizontallyScrollableContext:function(){var a=C.get(0)!==p?C.css("overflow-X"):!1;return"auto"==a||"scroll"==a}},can:{activate:function(b){return e.useLabels||!a.has.maxSelections()||a.has.maxSelections()&&b.hasClass(h.active)?!0:
!1},openDownward:function(b){b=b||n;b.addClass(h.loading);var c=C.get(0)===p?{top:0,left:0}:C.offset();var d=C.scrollTop();var e=C.outerHeight();var f=b.offset();var k=b.outerHeight();a.is.verticallyScrollableContext()&&(f.top+=d);f={above:d<=f.top-c.top-k,below:d+e>=f.top-c.top+k};f.below?(a.verbose("Dropdown can fit in context downward",f),f=!0):f.below||f.above?(a.verbose("Dropdown cannot fit below, opening upward",f),f=!1):(a.verbose("Dropdown cannot fit in either direction, favoring downward",
f),f=!0);b.removeClass(h.loading);return f},openRightward:function(b){b=b||n;var c=!0;b.addClass(h.loading);var d=C.get(0)===p?{top:0,left:0}:C.offset();var e=C.scrollLeft();var f=C.outerWidth();var k=b.offset();var l=b.outerWidth();a.is.horizontallyScrollableContext()&&(k.left+=e);if(k=k.left-d.left+l>=e+f)a.verbose("Dropdown cannot fit in context rightward",k),c=!1;b.removeClass(h.loading);return c},click:function(){return R||"click"==e.on},extendSelect:function(){return e.allowAdditions||e.apiSettings},
show:function(){return!a.is.disabled()&&(a.has.items()||a.has.message())},useAPI:function(){return d.fn.api!==l}},animate:{show:function(b,c){var g=c||n,h=c?function(){}:function(){a.hideSubMenus();a.hideOthers();a.set.active()};b=d.isFunction(b)?b:function(){};a.verbose("Doing menu show animation",g);a.set.direction(c);c=a.get.transition(c);a.is.selection()&&a.set.scrollPosition(a.get.selectedItem(),!0);if(a.is.hidden(g)||a.is.animating(g))"none"==c?(h(),g.transition("show"),b.call(A)):d.fn.transition!==
l&&f.transition("is supported")?g.transition({animation:c+" in",debug:e.debug,verbose:e.verbose,duration:e.duration,queue:!0,onStart:h,onComplete:function(){b.call(A)}}):a.error(F.noTransition,c)},hide:function(b,c){var g=c||n,h=c?function(){}:function(){a.can.click()&&a.unbind.intent();a.remove.active()};c=a.get.transition(c);b=d.isFunction(b)?b:function(){};if(a.is.visible(g)||a.is.animating(g))a.verbose("Doing menu hide animation",g),"none"==c?(h(),g.transition("hide"),b.call(A)):d.fn.transition!==
l&&f.transition("is supported")?g.transition({animation:c+" out",duration:e.duration,debug:e.debug,verbose:e.verbose,queue:!1,onStart:h,onComplete:function(){b.call(A)}}):a.error(F.transition)}},hideAndClear:function(){a.remove.searchTerm();a.has.maxSelections()||(a.has.search()?a.hide(function(){a.remove.filteredItem()}):a.hide())},delay:{show:function(){a.verbose("Delaying show event to ensure user intent");clearTimeout(a.timer);a.timer=setTimeout(a.show,e.delay.show)},hide:function(){a.verbose("Delaying hide event to ensure user intent");
clearTimeout(a.timer);a.timer=setTimeout(a.hide,e.delay.hide)}},escape:{value:function(b){var c=d.isArray(b),e="string"===typeof b,f=!e&&!c;e=e&&-1!==b.search(S.quote);var h=[];if(f||!e)return b;a.debug("Encoding quote values for use in select",b);return c?(d.each(b,function(a,b){h.push(b.replace(S.quote,"&quot;"))}),h):b.replace(S.quote,"&quot;")},string:function(a){a=String(a);return a.replace(S.escape,"\\$&")}},setting:function(b,c){a.debug("Changing setting",b,c);if(d.isPlainObject(b))d.extend(!0,
e,b);else if(c!==l)d.isPlainObject(e[b])?d.extend(!0,e[b],c):e[b]=c;else return e[b]},internal:function(b,c){if(d.isPlainObject(b))d.extend(!0,a,b);else if(c!==l)a[b]=c;else return a[b]},debug:function(){!e.silent&&e.debug&&(e.performance?a.performance.log(arguments):(a.debug=Function.prototype.bind.call(console.info,console,e.name+":"),a.debug.apply(console,arguments)))},verbose:function(){!e.silent&&e.verbose&&e.debug&&(e.performance?a.performance.log(arguments):(a.verbose=Function.prototype.bind.call(console.info,
console,e.name+":"),a.verbose.apply(console,arguments)))},error:function(){e.silent||(a.error=Function.prototype.bind.call(console.error,console,e.name+":"),a.error.apply(console,arguments))},performance:{log:function(b){if(e.performance){var c=(new Date).getTime();var d=Y||c;d=c-d;Y=c;K.push({Name:b[0],Arguments:[].slice.call(b,1)||"",Element:A,"Execution Time":d})}clearTimeout(a.performance.timer);a.performance.timer=setTimeout(a.performance.display,500)},display:function(){var b=e.name+":",c=0;
Y=!1;clearTimeout(a.performance.timer);d.each(K,function(a,b){c+=b["Execution Time"]});b+=" "+c+"ms";ea&&(b+=" '"+ea+"'");(console.group!==l||console.table!==l)&&0<K.length&&(console.groupCollapsed(b),console.table?console.table(K):d.each(K,function(a,b){console.log(b.Name+": "+b["Execution Time"]+"ms")}),console.groupEnd());K=[]}},invoke:function(b,c,e){var f=M,h,g;c=c||ka;e=A||e;if("string"==typeof b&&f!==l){b=b.split(/[\. ]/);var k=b.length-1;d.each(b,function(c,e){var g=c!=k?e+b[c+1].charAt(0).toUpperCase()+
b[c+1].slice(1):b;if(d.isPlainObject(f[g])&&c!=k)f=f[g];else{if(f[g]!==l)return h=f[g],!1;if(d.isPlainObject(f[e])&&c!=k)f=f[e];else return f[e]!==l?h=f[e]:a.error(F.method,b),!1}})}d.isFunction(h)?g=h.apply(e,c):h!==l&&(g=h);d.isArray(I)?I.push(g):I!==l?I=[I,g]:g!==l&&(I=g);return h}};ja?(M===l&&a.initialize(),a.invoke(fa)):(M!==l&&M.invoke("destroy"),a.initialize())});return I!==l?I:D};d.fn.dropdown.settings={silent:!1,debug:!1,verbose:!1,performance:!0,on:"click",action:"activate",values:!1,clearable:!1,
apiSettings:!1,selectOnKeydown:!0,minCharacters:0,filterRemoteData:!1,saveRemoteData:!0,throttle:200,context:p,direction:"auto",keepOnScreen:!0,match:"both",fullTextSearch:!1,placeholder:"auto",preserveHTML:!0,sortSelect:!1,forceSelection:!0,allowAdditions:!1,ignoreCase:!1,hideAdditions:!0,maxSelections:!1,useLabels:!0,delimiter:",",showOnFocus:!0,allowReselection:!1,allowTab:!0,allowCategorySelection:!1,fireOnInit:!1,transition:"auto",duration:200,glyphWidth:1.037,label:{transition:"scale",duration:200,
variation:!1},delay:{hide:300,show:200,search:20,touch:50},onChange:function(d,l,m){},onAdd:function(d,l,m){},onRemove:function(d,l,m){},onLabelSelect:function(d){},onLabelCreate:function(l,m){return d(this)},onLabelRemove:function(d){return!0},onNoResults:function(d){return!0},onShow:function(){},onHide:function(){},name:"Dropdown",namespace:"dropdown",message:{addResult:"Add <b>{term}</b>",count:"{count} selected",maxSelections:"Max {maxCount} selections",noResults:"No results found.",serverError:"There was an error contacting the server"},
error:{action:"You called a dropdown action that was not defined",alreadySetup:"Once a select has been initialized behaviors must be called on the created ui dropdown",labels:"Allowing user additions currently requires the use of labels.",missingMultiple:"<select> requires multiple property to be set to correctly preserve multiple values",method:"The method you called is not defined.",noAPI:"The API module is required to load resources remotely",noStorage:"Saving remote data requires session storage",
noTransition:"This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>"},regExp:{escape:/[-[\]{}()*+?.,\\^$|#\s]/g,quote:/"/g},metadata:{defaultText:"defaultText",defaultValue:"defaultValue",placeholderText:"placeholder",text:"text",value:"value"},fields:{remoteValues:"results",values:"values",disabled:"disabled",name:"name",value:"value",text:"text"},keys:{backspace:8,delimiter:188,deleteKey:46,enter:13,escape:27,pageUp:33,pageDown:34,leftArrow:37,upArrow:38,rightArrow:39,
downArrow:40},selector:{addition:".addition",dropdown:".ui.dropdown",hidden:".hidden",icon:"> .dropdown.icon",input:'> input[type="hidden"], > select',item:".item",label:"> .label",remove:"> .label > .delete.icon",siblingLabel:".label",menu:".menu",message:".message",menuIcon:".dropdown.icon",search:"input.search, .menu > .search > input, .menu input.search",sizer:"> input.sizer",text:"> .text:not(.icon)",unselectable:".disabled, .filtered"},className:{active:"active",addition:"addition",animating:"animating",
clear:"clear",disabled:"disabled",empty:"empty",dropdown:"ui dropdown",filtered:"filtered",hidden:"hidden transition",item:"item",label:"ui label",loading:"loading",menu:"menu",message:"message",multiple:"multiple",placeholder:"default",sizer:"sizer",search:"search",selected:"selected",selection:"selection",upward:"upward",leftward:"left",visible:"visible"}};d.fn.dropdown.settings.templates={dropdown:function(l){var m=l.placeholder||!1,p="";p+='<i class="dropdown icon"></i>';p=l.placeholder?p+('<div class="default text">'+
m+"</div>"):p+'<div class="text"></div>';p+='<div class="menu">';d.each(l.values,function(d,l){p+=l.disabled?'<div class="disabled item" data-value="'+l.value+'">'+l.name+"</div>":'<div class="item" data-value="'+l.value+'">'+l.name+"</div>"});return p+="</div>"},menu:function(l,m){var p="";d.each(l[m.values]||{},function(d,l){p+='<div class="'+(l[m.disabled]?"disabled ":"")+'item" data-value="'+l[m.value]+'"'+(l[m.text]?'data-text="'+l[m.text]+'"':"")+">";p+=l[m.name];p+="</div>"});return p},label:function(d,
l){return l+'<i class="delete icon"></i>'},message:function(d){return d},addition:function(d){return d}}})(jQuery,window,document);
