(function(f){var g=0,k=function(){window.picturefill&&f(window.picturefill);(window.picturefill||9999<g)&&clearInterval(r);g++},r=setInterval(k,8);k()})(function(f){var g=window.document,k=window.Element,r=window.MutationObserver,p=function(){},b={disconnect:p,take:p,observe:p,start:p,stop:p,connected:!1},q=/^loade|^c|^i/.test(g.readyState||""),c=f._;c.mutationSupport=!1;c.observer=b;if(Object.keys&&window.HTMLSourceElement&&g.addEventListener){var u,v={src:1,srcset:1,sizes:1,media:1},w={attributes:!0,
childList:!0,subtree:!0,attributeFilter:Object.keys(v)};f=k&&k.prototype;var t={};k=function(a,d){t[a]=c[a];c[a]=d};f&&!f.matches&&(f.matches=f.matchesSelector||f.mozMatchesSelector||f.webkitMatchesSelector||f.msMatchesSelector);f&&f.matches&&(c.mutationSupport=!(!Object.create||!Object.defineProperties));if(c.mutationSupport){b.observe=function(){u&&(b.connected=!0,n&&n.observe(g.documentElement,w))};b.disconnect=function(){b.connected=!1;n&&n.disconnect()};b.take=function(){if(n)c.onMutations(n.takeRecords());
else l&&l.take()};b.start=function(){u=!0;b.observe()};b.stop=function(){u=!1;b.disconnect()};k("setupRun",function(){b.disconnect();return t.setupRun.apply(this,arguments)});k("teardownRun",function(){var a=t.setupRun.apply(this,arguments);b.observe();return a});k("setSrc",function(){var a=b.connected;b.disconnect();var c=t.setSrc.apply(this,arguments);a&&b.observe();return c});c.onMutations=function(a){var d,h=[],e=0;for(d=a.length;e<d;e++)if(q&&"childList"===a[e].type)c.onSubtreeChange(a[e],h);
else if("attributes"===a[e].type)c.onAttrChange(a[e],h);h.length&&c.fillImgs({elements:h,reevaluate:!0})};c.onSubtreeChange=function(a,d){c.findAddedMutations(a.addedNodes,d);c.findRemovedMutations(a.removedNodes,a.target,d)};c.findAddedMutations=function(a,d){var h,e=0;for(h=a.length;e<h;e++){var b=a[e];if(1===b.nodeType){var m=b.nodeName.toUpperCase();"PICTURE"===m?c.addToElements(b.getElementsByTagName("img")[0],d):"IMG"===m&&b.matches(c.selShort)?c.addToElements(b,d):"SOURCE"===m?c.addImgForSource(b,
b.parentNode,d):c.addToElements(c.qsa(b,c.selShort),d)}}};c.findRemovedMutations=function(a,d,b){var e,h=0;for(e=a.length;h<e;h++){var m=a[h];1===m.nodeType&&"SOURCE"===m.nodeName.toUpperCase()&&c.addImgForSource(m,d,b)}};c.addImgForSource=function(a,d,b){d&&"PICTURE"!==(d.nodeName||"").toUpperCase()&&((d=d.parentNode)&&"PICTURE"===(d.nodeName||"").toUpperCase()||(d=null));d&&c.addToElements(d.getElementsByTagName("img")[0],b)};c.addToElements=function(a,d){var b;if(a)if("length"in a&&!a.nodeType){var e=
0;for(b=a.length;e<b;e++)c.addToElements(a[e],d)}else a.parentNode&&-1===d.indexOf(a)&&d.push(a)};c.onAttrChange=function(a,d){var b,e=a.target[c.ns];e||"srcset"!==a.attributeName||"IMG"!==(b=a.target.nodeName.toUpperCase())?e&&(b||(b=a.target.nodeName.toUpperCase()),"IMG"===b?(a.attributeName in e&&(e[a.attributeName]=void 0),c.addToElements(a.target,d)):"SOURCE"===b&&c.addImgForSource(a.target,a.target.parentNode,d)):c.addToElements(a.target,d)};if(!c.supPicture){if(r&&!c.testMutationEvents)var n=
new r(c.onMutations);else{var l=function(){var a=!1,b=[],h=window.setImmediate||window.setTimeout;return function(d){a||(a=!0,l.take||(l.take=function(){b.length&&(c.onMutations(b),b=[]);a=!1}),h(l.take));b.push(d)}}();g.documentElement.addEventListener("DOMNodeInserted",function(a){b.connected&&q&&l({type:"childList",addedNodes:[a.target],removedNodes:[]})},!0);g.documentElement.addEventListener("DOMNodeRemoved",function(a){b.connected&&q&&"SOURCE"===(a.target||{}).nodeName&&l({type:"childList",
addedNodes:[],removedNodes:[a.target],target:a.target.parentNode})},!0);g.documentElement.addEventListener("DOMAttrModified",function(a){b.connected&&v[a.attrName]&&l({type:"attributes",target:a.target,attributeName:a.attrName})},!0)}window.HTMLImageElement&&Object.defineProperties&&function(){var a=g.createElement("img"),b=[],h=a.getAttribute,e=a.setAttribute,f={src:1};c.supSrcset&&!c.supSizes&&(f.srcset=1);Object.defineProperties(HTMLImageElement.prototype,{getAttribute:{value:function(a){var b;
return f[a]&&(b=this[c.ns])&&void 0!==b[a]?b[a]:h.apply(this,arguments)},writeable:!0,enumerable:!0,configurable:!0}});c.supSrcset||b.push("srcset");c.supSizes||b.push("sizes");b.forEach(function(a){Object.defineProperty(HTMLImageElement.prototype,a,{set:function(b){e.call(this,a,b)},get:function(){return h.call(this,a)||""},enumerable:!0,configurable:!0})});"currentSrc"in a||function(){var a=function(a,b){null==b&&(b=a.src||"");Object.defineProperty(a,"pfCurrentSrc",{value:b,writable:!0})},b=a;if(c.supSrcset&&
window.devicePixelRatio){var d=function(a,b){return(a.d||a.w||a.res)-(b.d||b.w||b.res)};a=function(a){var e,f;if((e=a[c.ns])&&e.supported&&e.srcset&&e.sets&&(f=c.parseSet(e.sets[0]))&&f.sort){f.sort(d);var h=f.length,g=f[h-1];for(e=0;e<h;e++)if(f[e].d>=window.devicePixelRatio){g=f[e];break}g&&(g=c.makeUrl(g.url))}b(a,g)}}g.addEventListener("load",function(b){"IMG"===b.target.nodeName.toUpperCase()&&a(b.target)},!0);Object.defineProperty(HTMLImageElement.prototype,"currentSrc",{set:function(){window.console&&
console.warn&&console.warn("currentSrc can't be set on img element")},get:function(){this.complete&&a(this);return this.src||this.srcset?this.pfCurrentSrc||"":""},enumerable:!0,configurable:!0})}();!window.HTMLSourceElement||"srcset"in g.createElement("source")||["srcset","sizes"].forEach(function(a){Object.defineProperty(window.HTMLSourceElement.prototype,a,{set:function(b){this.setAttribute(a,b)},get:function(){return this.getAttribute(a)||""},enumerable:!0,configurable:!0})})}();b.start()}q||g.addEventListener("DOMContentLoaded",
function(){q=!0})}}});
