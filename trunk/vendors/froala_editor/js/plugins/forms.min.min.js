/*!
 * froala_editor v2.8.4 (https://www.froala.com/wysiwyg-editor)
 * License https://froala.com/wysiwyg-editor/terms/
 * Copyright 2014-2018 Froala Labs
 */
;!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof module&&module.exports?module.exports=function(b,c){return c===undefined&&(c="undefined"!=typeof window?require("jquery"):require("jquery")(b)),a(c)}:a(window.jQuery)}(function(a){a.extend(a.FE.POPUP_TEMPLATES,{"forms.edit":"[_BUTTONS_]","forms.update":"[_BUTTONS_][_TEXT_LAYER_]"}),a.extend(a.FE.DEFAULTS,{formEditButtons:["inputStyle","inputEdit"],formStyles:{"fr-rounded":"Rounded","fr-large":"Large"},formMultipleStyles:!0,formUpdateButtons:["inputBack","|"]}),a.FE.PLUGINS.forms=function(v){var b;function u(d){d.preventDefault(),v.selection.clear(),a(this).data("mousedown",!0)}function l(d){a(this).data("mousedown")&&(d.stopPropagation(),a(this).removeData("mousedown"),q(b=this)),d.preventDefault()}function g(){v.$el.find("input, textarea, button").removeData("mousedown")}function h(){a(this).removeData("mousedown")}function j(){return b||null}function q(f){var i=v.popups.get("forms.edit");i||(i=function(){var n="";0<v.opts.formEditButtons.length&&(n='<div class="fr-buttons">'+v.button.buildList(v.opts.formEditButtons)+"</div>");var s={buttons:n},w=v.popups.create("forms.edit",s);return v.$wp&&v.events.$on(v.$wp,"scroll.link-edit",function(){j()&&v.popups.isVisible("forms.edit")&&q(j())}),w}());var p=a(b=f);v.popups.refresh("forms.edit"),v.popups.setContainer("forms.edit",v.$sc);var r=p.offset().left+p.outerWidth()/2,d=p.offset().top+p.outerHeight();v.popups.show("forms.edit",r,d,p.outerHeight())}function c(){var d=v.popups.get("forms.update"),f=j();if(f){var i=a(f);i.is("button")?d.find('input[type="text"][name="text"]').val(i.text()):d.find('input[type="text"][name="text"]').val(i.attr("placeholder"))}d.find('input[type="text"][name="text"]').trigger("change")}function k(){b=null}function m(f){if(f){return v.popups.onRefresh("forms.update",c),v.popups.onHide("forms.update",k),!0}var i="";1<=v.opts.formUpdateButtons.length&&(i='<div class="fr-buttons">'+v.button.buildList(v.opts.formUpdateButtons)+"</div>");var p="",r=0;p='<div class="fr-forms-text-layer fr-layer fr-active">',p+='<div class="fr-input-line"><input name="text" type="text" placeholder="Text" tabIndex="'+ ++r+'"></div>';var d={buttons:i,text_layer:p+='<div class="fr-action-buttons"><button class="fr-command fr-submit" data-cmd="updateInput" href="#" tabIndex="'+ ++r+'" type="button">'+v.language.translate("Update")+"</button></div></div>"};return v.popups.create("forms.update",d)}return{_init:function(){v.events.$on(v.$el,v._mousedown,"input, textarea, button",u),v.events.$on(v.$el,v._mouseup,"input, textarea, button",l),v.events.$on(v.$el,"touchmove","input, textarea, button",h),v.events.$on(v.$el,v._mouseup,g),v.events.$on(v.$win,v._mouseup,g),m(!0),v.events.$on(v.$el,"submit","form",function(d){return d.preventDefault(),!1})},updateInput:function(){var d=v.popups.get("forms.update"),f=j();if(f){var i=a(f),p=d.find('input[type="text"][name="text"]').val()||"";p.length&&(i.is("button")?i.text(p):i.attr("placeholder",p)),v.popups.hide("forms.update"),q(f)}},getInput:j,applyStyle:function(f,i,p){void 0===i&&(i=v.opts.formStyles),void 0===p&&(p=v.opts.formMultipleStyles);var r=j();if(!r){return !1}if(!p){var d=Object.keys(i);d.splice(d.indexOf(f),1),a(r).removeClass(d.join(" "))}a(r).toggleClass(f)},showUpdatePopup:function(){var f=j();if(f){var i=a(f),p=v.popups.get("forms.update");p||(p=m()),v.popups.isVisible("forms.update")||v.popups.refresh("forms.update"),v.popups.setContainer("forms.update",v.$sc);var r=i.offset().left+i.outerWidth()/2,d=i.offset().top+i.outerHeight();v.popups.show("forms.update",r,d,i.outerHeight())}},showEditPopup:q,back:function(){v.events.disableBlur(),v.selection.restore(),v.events.enableBlur();var d=j();d&&v.$wp&&("BUTTON"==d.tagName&&v.selection.restore(),q(d))}}},a.FE.RegisterCommand("updateInput",{undo:!1,focus:!1,title:"Update",callback:function(){this.forms.updateInput()}}),a.FE.DefineIcon("inputStyle",{NAME:"magic"}),a.FE.RegisterCommand("inputStyle",{title:"Style",type:"dropdown",html:function(){var b='<ul class="fr-dropdown-list">',c=this.opts.formStyles;for(var d in c){c.hasOwnProperty(d)&&(b+='<li><a class="fr-command" tabIndex="-1" data-cmd="inputStyle" data-param1="'+d+'">'+this.language.translate(c[d])+"</a></li>")}return b+="</ul>"},callback:function(b,c){var d=this.forms.getInput();d&&(this.forms.applyStyle(c),this.forms.showEditPopup(d))},refreshOnShow:function(b,c){var d=this.forms.getInput();if(d){var f=a(d);c.find(".fr-command").each(function(){var e=a(this).data("param1");a(this).toggleClass("fr-active",f.hasClass(e))})}}}),a.FE.DefineIcon("inputEdit",{NAME:"edit"}),a.FE.RegisterCommand("inputEdit",{title:"Edit Button",undo:!1,refreshAfterCallback:!1,callback:function(){this.forms.showUpdatePopup()}}),a.FE.DefineIcon("inputBack",{NAME:"arrow-left"}),a.FE.RegisterCommand("inputBack",{title:"Back",undo:!1,focus:!1,back:!0,refreshAfterCallback:!1,callback:function(){this.forms.back()}}),a.FE.RegisterCommand("updateInput",{undo:!1,focus:!1,title:"Update",callback:function(){this.forms.updateInput()}})});