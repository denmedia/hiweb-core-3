/*!
 * froala_editor v2.8.4 (https://www.froala.com/wysiwyg-editor)
 * License https://froala.com/wysiwyg-editor/terms/
 * Copyright 2014-2018 Froala Labs
 */
;!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof module&&module.exports?module.exports=function(c,b){return b===undefined&&(b="undefined"!=typeof window?require("jquery"):require("jquery")(c)),a(b)}:a(window.jQuery)}(function(a){a.extend(a.FE.DEFAULTS,{saveInterval:10000,saveURL:null,saveParams:{},saveParam:"body",saveMethod:"POST"}),a.FE.PLUGINS.save=function(g){var j=null,m=null,p=!1,l=1,h=2,c={};function k(f,d){g.events.trigger("save.error",[{code:f,message:c[f]},d])}function q(v){void 0===v&&(v=g.html.get());var f=v,x=g.events.trigger("save.before",[v]);if(!1===x){return !1}if("string"==typeof x&&(v=x),g.opts.saveURL){var i={};for(var w in g.opts.saveParams){if(g.opts.saveParams.hasOwnProperty(w)){var d=g.opts.saveParams[w];i[w]="function"==typeof d?d.call(this):d}}var u={};u[g.opts.saveParam]=v,a.ajax({type:g.opts.saveMethod,url:g.opts.saveURL,data:a.extend(u,i),crossDomain:g.opts.requestWithCORS,xhrFields:{withCredentials:g.opts.requestWithCredentials},headers:g.opts.requestHeaders}).done(function(n){m=f,g.events.trigger("save.after",[n])}).fail(function(n){k(h,n.response||n.responseText)})}else{k(l)}}function b(){clearTimeout(j),j=setTimeout(function(){var d=g.html.get();(m!=d||p)&&(p=!1,q(m=d))},g.opts.saveInterval)}return c[l]="Missing saveURL option.",c[h]="Something went wrong during save.",{_init:function(){g.opts.saveInterval&&(m=g.html.get(),g.events.on("contentChanged",b),g.events.on("keydown destroy",function(){clearTimeout(j)}))},save:q,reset:function(){b(),p=!1},force:function(){p=!0}}},a.FE.DefineIcon("save",{NAME:"floppy-o",FA5NAME:"disk"}),a.FE.RegisterCommand("save",{title:"Save",undo:!1,focus:!1,refreshAfterCallback:!1,callback:function(){this.save.save()},plugin:"save"})});