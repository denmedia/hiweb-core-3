/*!
 * froala_editor v2.8.4 (https://www.froala.com/wysiwyg-editor)
 * License https://froala.com/wysiwyg-editor/terms/
 * Copyright 2014-2018 Froala Labs
 */
;!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof module&&module.exports?module.exports=function(c,b){return b===undefined&&(b="undefined"!=typeof window?require("jquery"):require("jquery")(c)),a(b)}:a(window.jQuery)}(function(a){a.extend(a.FE.DEFAULTS,{lineBreakerTags:["table","hr","form","dl","span.fr-video",".fr-embedly"],lineBreakerOffset:15,lineBreakerHorizontalOffset:10}),a.FE.PLUGINS.lineBreaker=function(y){var v,C,A;function D(I,L){var E,c,J,g,G,M,H,F;if(null==I){G=(g=L.parent()).offset().top,E=(H=L.offset().top)-Math.min((H-G)/2,y.opts.lineBreakerOffset),J=g.outerWidth(),c=g.offset().left}else{if(null==L){(M=(g=I.parent()).offset().top+g.outerHeight())<(F=I.offset().top+I.outerHeight())&&(M=(g=a(g).parent()).offset().top+g.outerHeight()),E=F+Math.min(Math.abs(M-F)/2,y.opts.lineBreakerOffset),J=g.outerWidth(),c=g.offset().left}else{g=I.parent();var d=I.offset().top+I.height(),K=L.offset().top;if(K<d){return !1}E=(d+K)/2,J=g.outerWidth(),c=g.offset().left}}y.opts.iframe&&(c+=y.$iframe.offset().left-y.helpers.scrollLeft(),E+=y.$iframe.offset().top-y.helpers.scrollTop()),y.$box.append(v),v.css("top",E-y.win.pageYOffset),v.css("left",c-y.win.pageXOffset),v.css("width",J),v.data("tag1",I),v.data("tag2",L),v.addClass("fr-visible").data("instance",y)}function w(d){if(d){var c=a(d);if(0===y.$el.find(c).length){return null}if(d.nodeType!=Node.TEXT_NODE&&c.is(y.opts.lineBreakerTags.join(","))){return c}if(0<c.parents(y.opts.lineBreakerTags.join(",")).length){return d=c.parents(y.opts.lineBreakerTags.join(",")).get(0),0!==y.$el.find(d).length&&a(d).is(y.opts.lineBreakerTags.join(","))?a(d):null}}return null}function j(d,c){var f=y.doc.elementFromPoint(d,c);return f&&!a(f).closest(".fr-line-breaker").length&&!y.node.isElement(f)&&f!=y.$wp.get(0)&&function(i){if("undefined"!=typeof i.inFroalaWrapper){return i.inFroalaWrapper}for(var g=i;i.parentNode&&i.parentNode!==y.$wp.get(0);){i=i.parentNode}return g.inFroalaWrapper=i.parentNode==y.$wp.get(0),g.inFroalaWrapper}(f)?f:null}function q(g,d,i){for(var f=i,c=null;f<=y.opts.lineBreakerOffset&&!c;){(c=j(g,d-f))||(c=j(g,d+f)),f+=i}return c}function m(g,d,i){for(var f=null,c=100;!f&&g>y.$box.offset().left&&g<y.$box.offset().left+y.$box.outerWidth()&&0<c;){(f=j(g,d))||(f=q(g,d,5)),"left"==i?g-=y.opts.lineBreakerHorizontalOffset:g+=y.opts.lineBreakerHorizontalOffset,c-=y.opts.lineBreakerHorizontalOffset}return f}function k(f){var c=A=null,g=null,d=y.doc.elementFromPoint(f.pageX-y.win.pageXOffset,f.pageY-y.win.pageYOffset);d&&("HTML"==d.tagName||"BODY"==d.tagName||y.node.isElement(d)||0<=(d.getAttribute("class")||"").indexOf("fr-line-breaker"))?((g=q(f.pageX-y.win.pageXOffset,f.pageY-y.win.pageYOffset,1))||(g=m(f.pageX-y.win.pageXOffset-y.opts.lineBreakerHorizontalOffset,f.pageY-y.win.pageYOffset,"left")),g||(g=m(f.pageX-y.win.pageXOffset+y.opts.lineBreakerHorizontalOffset,f.pageY-y.win.pageYOffset,"right")),c=w(g)):c=w(d),c?function(E,s){var G,u,l=E.offset().top,F=E.offset().top+E.outerHeight();if(Math.abs(F-s)<=y.opts.lineBreakerOffset||Math.abs(s-l)<=y.opts.lineBreakerOffset){if(Math.abs(F-s)<Math.abs(s-l)){for(var p=(u=E.get(0)).nextSibling;p&&p.nodeType==Node.TEXT_NODE&&0===p.textContent.length;){p=p.nextSibling}if(!p){return D(E,null)}if(G=w(p)){return D(E,G)}}else{if(!(u=E.get(0)).previousSibling){return D(null,E)}if(G=w(u.previousSibling)){return D(G,E)}}}v.removeClass("fr-visible").removeData("instance")}(c,f.pageY):y.core.sameInstance(v)&&v.removeClass("fr-visible").removeData("instance")}function x(c){return !(v.hasClass("fr-visible")&&!y.core.sameInstance(v))&&(y.popups.areVisible()||y.el.querySelector(".fr-selected-cell")?(v.removeClass("fr-visible"),!0):void (!1!==C||y.edit.isDisabled()||(A&&clearTimeout(A),A=setTimeout(k,30,c))))}function b(){A&&clearTimeout(A),v.hasClass("fr-visible")&&v.removeClass("fr-visible").removeData("instance")}function h(){C=!0,b()}function B(){C=!1}function z(g){g.preventDefault();var d=v.data("instance")||y;v.removeClass("fr-visible").removeData("instance");var i=v.data("tag1"),f=v.data("tag2"),c=y.html.defaultTag();null==i?c&&"TD"!=f.parent().get(0).tagName&&0===f.parents(c).length?f.before("<"+c+">"+a.FE.MARKERS+"<br></"+c+">"):f.before(a.FE.MARKERS+"<br>"):c&&"TD"!=i.parent().get(0).tagName&&0===i.parents(c).length?i.after("<"+c+">"+a.FE.MARKERS+"<br></"+c+">"):i.after(a.FE.MARKERS+"<br>"),d.selection.restore()}return{_init:function(){if(!y.$wp){return !1}y.shared.$line_breaker||(y.shared.$line_breaker=a('<div class="fr-line-breaker"><a class="fr-floating-btn" role="button" tabIndex="-1" title="'+y.language.translate("Break")+'"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><rect x="21" y="11" width="2" height="8"/><rect x="14" y="17" width="7" height="2"/><path d="M14.000,14.000 L14.000,22.013 L9.000,18.031 L14.000,14.000 Z"/></svg></a></div>')),v=y.shared.$line_breaker,y.events.on("shared.destroy",function(){v.html("").removeData().remove(),v=null},!0),y.events.on("destroy",function(){v.removeData("instance").removeClass("fr-visible").appendTo("body:first"),clearTimeout(A)},!0),y.events.$on(v,"mousemove",function(c){c.stopPropagation()},!0),y.events.bindClick(v,"a",z),C=!1,y.events.$on(y.$win,"mousemove",x),y.events.$on(a(y.win),"scroll",b),y.events.on("popups.show.table.edit",b),y.events.on("commands.after",b),y.events.$on(a(y.win),"mousedown",h),y.events.$on(a(y.win),"mouseup",B)}}}});