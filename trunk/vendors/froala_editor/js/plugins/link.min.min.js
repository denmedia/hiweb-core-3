/*!
 * froala_editor v2.8.4 (https://www.froala.com/wysiwyg-editor)
 * License https://froala.com/wysiwyg-editor/terms/
 * Copyright 2014-2018 Froala Labs
 */
;!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof module&&module.exports?module.exports=function(c,b){return b===undefined&&(b="undefined"!=typeof window?require("jquery"):require("jquery")(c)),a(b)}:a(window.jQuery)}(function(a){a.extend(a.FE.POPUP_TEMPLATES,{"link.edit":"[_BUTTONS_]","link.insert":"[_BUTTONS_][_INPUT_LAYER_]"}),a.extend(a.FE.DEFAULTS,{linkEditButtons:["linkOpen","linkStyle","linkEdit","linkRemove"],linkInsertButtons:["linkBack","|","linkList"],linkAttributes:{},linkAutoPrefix:"http://",linkStyles:{"fr-green":"Green","fr-strong":"Thick"},linkMultipleStyles:!0,linkConvertEmailAddress:!0,linkAlwaysBlank:!1,linkAlwaysNoFollow:!1,linkNoOpener:!0,linkNoReferrer:!0,linkList:[{text:"Froala",href:"https://froala.com",target:"_blank"},{text:"Google",href:"https://google.com",target:"_blank"},{displayText:"Facebook",href:"https://facebook.com"}],linkText:!0}),a.FE.PLUGINS.link=function(r){function t(){var g=r.image?r.image.get():null;if(!g&&r.$wp){var d=r.selection.ranges(0).commonAncestorContainer;try{d&&(d.contains&&d.contains(r.el)||!r.el.contains(d)||r.el==d)&&(d=null)}catch(f){d=null}if(d&&"A"===d.tagName){return d}var h=r.selection.element(),c=r.selection.endElement();"A"==h.tagName||r.node.isElement(h)||(h=a(h).parentsUntil(r.$el,"a:first").get(0)),"A"==c.tagName||r.node.isElement(c)||(c=a(c).parentsUntil(r.$el,"a:first").get(0));try{c&&(c.contains&&c.contains(r.el)||!r.el.contains(c)||r.el==c)&&(c=null)}catch(f){c=null}try{h&&(h.contains&&h.contains(r.el)||!r.el.contains(h)||r.el==h)&&(h=null)}catch(f){h=null}return c&&c==h&&"A"==c.tagName?(r.browser.msie||r.helpers.isMobile())&&(r.selection.info(h).atEnd||r.selection.info(h).atStart)?null:h:null}return"A"==r.el.tagName?r.el:g&&g.get(0).parentNode&&"A"==g.get(0).parentNode.tagName?g.get(0).parentNode:void 0}function w(){var u,z,g,k,c=r.image?r.image.get():null,h=[];if(c){"A"==c.get(0).parentNode.tagName&&h.push(c.get(0).parentNode)}else{if(r.win.getSelection){var y=r.win.getSelection();if(y.getRangeAt&&y.rangeCount){k=r.doc.createRange();for(var A=0;A<y.rangeCount;++A){if((z=(u=y.getRangeAt(A)).commonAncestorContainer)&&1!=z.nodeType&&(z=z.parentNode),z&&"a"==z.nodeName.toLowerCase()){h.push(z)}else{g=z.getElementsByTagName("a");for(var f=0;f<g.length;++f){k.selectNodeContents(g[f]),k.compareBoundaryPoints(u.END_TO_START,u)<1&&-1<k.compareBoundaryPoints(u.START_TO_END,u)&&h.push(g[f])}}}}}else{if(r.doc.selection&&"Control"!=r.doc.selection.type){if("a"==(z=(u=r.doc.selection.createRange()).parentElement()).nodeName.toLowerCase()){h.push(z)}else{g=z.getElementsByTagName("a"),k=r.doc.body.createTextRange();for(var d=0;d<g.length;++d){k.moveToElementText(g[d]),-1<k.compareEndPoints("StartToEnd",u)&&k.compareEndPoints("EndToStart",u)<1&&h.push(g[d])}}}}}return h}function j(c){if(r.core.hasFocus()){if(v(),c&&"keyup"===c.type&&(c.altKey||c.which==a.FE.KEYCODE.ALT)){return !0}setTimeout(function(){if(!c||c&&(1==c.which||"mouseup"!=c.type)){var g=t(),f=r.image?r.image.get():null;if(g&&!f){if(r.image){var h=r.node.contents(g);if(1==h.length&&"IMG"==h[0].tagName){var d=r.selection.ranges(0);return 0===d.startOffset&&0===d.endOffset?a(g).before(a.FE.MARKERS):a(g).after(a.FE.MARKERS),r.selection.restore(),!1}}c&&c.stopPropagation(),i(g)}}},r.helpers.isIOS()?100:0)}}function i(g){var d=r.popups.get("link.edit");d||(d=function(){var l="";1<=r.opts.linkEditButtons.length&&("A"==r.el.tagName&&0<=r.opts.linkEditButtons.indexOf("linkRemove")&&r.opts.linkEditButtons.splice(r.opts.linkEditButtons.indexOf("linkRemove"),1),l='<div class="fr-buttons">'+r.button.buildList(r.opts.linkEditButtons)+"</div>");var k={buttons:l},o=r.popups.create("link.edit",k);r.$wp&&r.events.$on(r.$wp,"scroll.link-edit",function(){t()&&r.popups.isVisible("link.edit")&&i(t())});return o}());var h=a(g);r.popups.isVisible("link.edit")||r.popups.refresh("link.edit"),r.popups.setContainer("link.edit",r.$sc);var c=h.offset().left+a(g).outerWidth()/2,f=h.offset().top+h.outerHeight();r.popups.show("link.edit",c,f,h.outerHeight())}function v(){r.popups.hide("link.edit")}function e(){}function b(){var k=r.popups.get("link.insert"),g=t();if(g){var o,f,h=a(g),d=k.find('input.fr-link-attr[type="text"]'),c=k.find('input.fr-link-attr[type="checkbox"]');for(o=0;o<d.length;o++){(f=a(d[o])).val(h.attr(f.attr("name")||""))}for(c.prop("checked",!1),o=0;o<c.length;o++){f=a(c[o]),h.attr(f.attr("name"))==f.data("checked")&&f.prop("checked",!0)}k.find('input.fr-link-attr[type="text"][name="text"]').val(h.text())}else{k.find('input.fr-link-attr[type="text"]').val(""),k.find('input.fr-link-attr[type="checkbox"]').prop("checked",!1),k.find('input.fr-link-attr[type="text"][name="text"]').val(r.selection.text())}k.find("input.fr-link-attr").trigger("change"),(r.image?r.image.get():null)?k.find('.fr-link-attr[name="text"]').parent().hide():k.find('.fr-link-attr[name="text"]').parent().show()}function x(o){if(o){return r.popups.onRefresh("link.insert",b),r.popups.onHide("link.insert",e),!0}var g="";1<=r.opts.linkInsertButtons.length&&(g='<div class="fr-buttons">'+r.button.buildList(r.opts.linkInsertButtons)+"</div>");var p="",f=0;for(var k in p='<div class="fr-link-insert-layer fr-layer fr-active" id="fr-link-insert-layer-'+r.id+'">',p+='<div class="fr-input-line"><input id="fr-link-insert-layer-url-'+r.id+'" name="href" type="text" class="fr-link-attr" placeholder="'+r.language.translate("URL")+'" tabIndex="'+ ++f+'"></div>',r.opts.linkText&&(p+='<div class="fr-input-line"><input id="fr-link-insert-layer-text-'+r.id+'" name="text" type="text" class="fr-link-attr" placeholder="'+r.language.translate("Text")+'" tabIndex="'+ ++f+'"></div>'),r.opts.linkAttributes){if(r.opts.linkAttributes.hasOwnProperty(k)){var d=r.opts.linkAttributes[k];p+='<div class="fr-input-line"><input name="'+k+'" type="text" class="fr-link-attr" placeholder="'+r.language.translate(d)+'" tabIndex="'+ ++f+'"></div>'}}r.opts.linkAlwaysBlank||(p+='<div class="fr-checkbox-line"><span class="fr-checkbox"><input name="target" class="fr-link-attr" data-checked="_blank" type="checkbox" id="fr-link-target-'+r.id+'" tabIndex="'+ ++f+'"><span><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="10" height="10" viewBox="0 0 32 32"><path d="M27 4l-15 15-7-7-5 5 12 12 20-20z" fill="#FFF"></path></svg></span></span><label for="fr-link-target-'+r.id+'">'+r.language.translate("Open in new tab")+"</label></div>");var c={buttons:g,input_layer:p+='<div class="fr-action-buttons"><button class="fr-command fr-submit" role="button" data-cmd="linkInsert" href="#" tabIndex="'+ ++f+'" type="button">'+r.language.translate("Insert")+"</button></div></div>"},h=r.popups.create("link.insert",c);return r.$wp&&r.events.$on(r.$wp,"scroll.link-insert",function(){(r.image?r.image.get():null)&&r.popups.isVisible("link.insert")&&m(),r.popups.isVisible("link.insert")&&n()}),h}function q(z,B,h){if(void 0===h&&(h={}),!1===r.events.trigger("link.beforeInsert",[z,B,h])){return !1}var u=r.image?r.image.get():null;u||"A"==r.el.tagName?"A"==r.el.tagName&&r.$el.focus():(r.selection.restore(),r.popups.hide("link.insert"));var c=z;r.opts.linkConvertEmailAddress&&r.helpers.isEmail(z)&&!/^mailto:.*/i.test(z)&&(z="mailto:"+z);if(""===r.opts.linkAutoPrefix||new RegExp("^("+a.FE.LinkProtocols.join("|")+"):.","i").test(z)||/^data:image.*/i.test(z)||/^(https?:|ftps?:|file:|)\/\//i.test(z)||/^([A-Za-z]:(\\){1,2}|[A-Za-z]:((\\){1,2}[^\\]+)+)(\\)?$/i.test(z)||["/","{","[","#","(","."].indexOf((z||"")[0])<0&&(z=r.opts.linkAutoPrefix+r.helpers.sanitizeURL(z)),z=r.helpers.sanitizeURL(z),r.opts.linkAlwaysBlank&&(h.target="_blank"),r.opts.linkAlwaysNoFollow&&(h.rel="nofollow"),"_blank"==h.target?(r.opts.linkNoOpener&&(h.rel?h.rel+=" noopener":h.rel="noopener"),r.opts.linkNoReferrer&&(h.rel?h.rel+=" noreferrer":h.rel="noreferrer")):null==h.target&&(h.rel?h.rel=h.rel.replace(/noopener/,"").replace(/noreferrer/,""):h.rel=null),B=B||"",z===r.opts.linkAutoPrefix){return r.popups.get("link.insert").find('input[name="href"]').addClass("fr-error"),r.events.trigger("link.bad",[c]),!1}var k,A=t();if(A){if((k=a(A)).attr("href",z),0<B.length&&k.text()!=B&&!u){for(var C=k.get(0);1===C.childNodes.length&&C.childNodes[0].nodeType==Node.ELEMENT_NODE;){C=C.childNodes[0]}a(C).text(B)}u||k.prepend(a.FE.START_MARKER).append(a.FE.END_MARKER),k.attr(h),u||r.selection.restore()}else{u?u.wrap('<a href="'+z+'"></a>'):(r.format.remove("a"),r.selection.isCollapsed()?(B=0===B.length?c:B,r.html.insert('<a href="'+z+'">'+a.FE.START_MARKER+B.replace(/&/g,"&amp;")+a.FE.END_MARKER+"</a>"),r.selection.restore()):0<B.length&&B!=r.selection.text().replace(/\n/g,"")?(r.selection.remove(),r.html.insert('<a href="'+z+'">'+a.FE.START_MARKER+B.replace(/&/g,"&amp;")+a.FE.END_MARKER+"</a>"),r.selection.restore()):(!function(){if(!r.selection.isCollapsed()){r.selection.save();for(var G=r.$el.find(".fr-marker").addClass("fr-unprocessed").toArray();G.length;){var D=a(G.pop());D.removeClass("fr-unprocessed");var H=r.node.deepestParent(D.get(0));if(H){for(var p=D.get(0),F="",o="";p=p.parentNode,r.node.isBlock(p)||(F+=r.node.closeTagString(p),o=r.node.openTagString(p)+o),p!=H;){}var f=r.node.openTagString(D.get(0))+D.html()+r.node.closeTagString(D.get(0));D.replaceWith('<span id="fr-break"></span>');var E=H.outerHTML;E=E.replace(/<span id="fr-break"><\/span>/g,F+f+o),H.outerHTML=E}G=r.$el.find(".fr-marker.fr-unprocessed").toArray()}r.html.cleanEmptyTags(),r.selection.restore()}}(),r.format.apply("a",{href:z})));for(var g=w(),d=0;d<g.length;d++){(k=a(g[d])).attr(h),k.removeAttr("_moz_dirty")}1==g.length&&r.$wp&&!u&&(a(g[0]).prepend(a.FE.START_MARKER).append(a.FE.END_MARKER),r.selection.restore())}if(u){var y=r.popups.get("link.insert");y&&y.find("input:focus").blur(),r.image.edit(u)}else{j()}}function n(){v();var g=t();if(g){var d=r.popups.get("link.insert");d||(d=x()),r.popups.isVisible("link.insert")||(r.popups.refresh("link.insert"),r.selection.save(),r.helpers.isMobile()&&(r.events.disableBlur(),r.$el.blur(),r.events.enableBlur())),r.popups.setContainer("link.insert",r.$sc);var h=(r.image?r.image.get():null)||a(g),c=h.offset().left+h.outerWidth()/2,f=h.offset().top+h.outerHeight();r.popups.show("link.insert",c,f,h.outerHeight())}}function m(){var f=r.image?r.image.getEl():null;if(f){var d=r.popups.get("link.insert");r.image.hasCaption()&&(f=f.find(".fr-img-wrap")),d||(d=x()),b(),r.popups.setContainer("link.insert",r.$sc);var g=f.offset().left+f.outerWidth()/2,c=f.offset().top+f.outerHeight();r.popups.show("link.insert",g,c,f.outerHeight())}}return{_init:function(){r.events.on("keyup",function(c){c.which!=a.FE.KEYCODE.ESC&&j(c)}),r.events.on("window.mouseup",j),r.events.$on(r.$el,"click","a",function(c){r.edit.isDisabled()&&c.preventDefault()}),r.helpers.isMobile()&&r.events.$on(r.$doc,"selectionchange",j),x(!0),"A"==r.el.tagName&&r.$el.addClass("fr-view"),r.events.on("toolbar.esc",function(){if(r.popups.isVisible("link.edit")){return r.events.disableBlur(),r.events.focus(),!1}},!0)},remove:function(){var d=t(),c=r.image?r.image.get():null;if(!1===r.events.trigger("link.beforeRemove",[d])){return !1}c&&d?(c.unwrap(),r.image.edit(c)):d&&(r.selection.save(),a(d).replaceWith(a(d).html()),r.selection.restore(),v())},showInsertPopup:function(){var f=r.$tb.find('.fr-command[data-cmd="insertLink"]'),d=r.popups.get("link.insert");if(d||(d=x()),!d.hasClass("fr-active")){if(r.popups.refresh("link.insert"),r.popups.setContainer("link.insert",r.$tb||r.$sc),f.is(":visible")){var g=f.offset().left+f.outerWidth()/2,c=f.offset().top+(r.opts.toolbarBottom?10:f.outerHeight()-10);r.popups.show("link.insert",g,c,f.outerHeight())}else{r.position.forSelection(d),r.popups.show("link.insert")}}},usePredefined:function(k){var g,o,f=r.opts.linkList[k],h=r.popups.get("link.insert"),d=h.find('input.fr-link-attr[type="text"]'),c=h.find('input.fr-link-attr[type="checkbox"]');for(o=0;o<d.length;o++){f[(g=a(d[o])).attr("name")]?g.val(f[g.attr("name")]):"text"!=g.attr("name")&&g.val("")}for(o=0;o<c.length;o++){(g=a(c[o])).prop("checked",g.data("checked")==f[g.attr("name")])}r.accessibility.focusPopup(h)},insertCallback:function(){var k,u,f=r.popups.get("link.insert"),h=f.find('input.fr-link-attr[type="text"]'),c=f.find('input.fr-link-attr[type="checkbox"]'),g=(h.filter('[name="href"]').val()||"").trim(),p=h.filter('[name="text"]').val(),y={};for(u=0;u<h.length;u++){k=a(h[u]),["href","text"].indexOf(k.attr("name"))<0&&(y[k.attr("name")]=k.val())}for(u=0;u<c.length;u++){(k=a(c[u])).is(":checked")?y[k.attr("name")]=k.data("checked"):y[k.attr("name")]=k.data("unchecked")||null}var d=r.helpers.scrollTop();q(g,p,y),a(r.o_win).scrollTop(d)},insert:q,update:n,get:t,allSelected:w,back:function(){r.image&&r.image.get()?r.image.back():(r.events.disableBlur(),r.selection.restore(),r.events.enableBlur(),t()&&r.$wp?(r.selection.restore(),v(),j()):"A"==r.el.tagName?(r.$el.focus(),j()):(r.popups.hide("link.insert"),r.toolbar.showInline()))},imageLink:m,applyStyle:function(g,d,h){void 0===h&&(h=r.opts.linkMultipleStyles),void 0===d&&(d=r.opts.linkStyles);var c=t();if(!c){return !1}if(!h){var f=Object.keys(d);f.splice(f.indexOf(g),1),a(c).removeClass(f.join(" "))}a(c).toggleClass(g),j()}}},a.FE.DefineIcon("insertLink",{NAME:"link"}),a.FE.RegisterShortcut(a.FE.KEYCODE.K,"insertLink",null,"K"),a.FE.RegisterCommand("insertLink",{title:"Insert Link",undo:!1,focus:!0,refreshOnCallback:!1,popup:!0,callback:function(){this.popups.isVisible("link.insert")?(this.$el.find(".fr-marker").length&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("link.insert")):this.link.showInsertPopup()},plugin:"link"}),a.FE.DefineIcon("linkOpen",{NAME:"external-link",FA5NAME:"external-link-alt"}),a.FE.RegisterCommand("linkOpen",{title:"Open Link",undo:!1,refresh:function(b){this.link.get()?b.removeClass("fr-hidden"):b.addClass("fr-hidden")},callback:function(){var b=this.link.get();b&&(this.o_win.open(b.href,"_blank","noopener"),this.popups.hide("link.edit"))},plugin:"link"}),a.FE.DefineIcon("linkEdit",{NAME:"edit"}),a.FE.RegisterCommand("linkEdit",{title:"Edit Link",undo:!1,refreshAfterCallback:!1,popup:!0,callback:function(){this.link.update()},refresh:function(b){this.link.get()?b.removeClass("fr-hidden"):b.addClass("fr-hidden")},plugin:"link"}),a.FE.DefineIcon("linkRemove",{NAME:"unlink"}),a.FE.RegisterCommand("linkRemove",{title:"Unlink",callback:function(){this.link.remove()},refresh:function(b){this.link.get()?b.removeClass("fr-hidden"):b.addClass("fr-hidden")},plugin:"link"}),a.FE.DefineIcon("linkBack",{NAME:"arrow-left"}),a.FE.RegisterCommand("linkBack",{title:"Back",undo:!1,focus:!1,back:!0,refreshAfterCallback:!1,callback:function(){this.link.back()},refresh:function(c){var b=this.link.get()&&this.doc.hasFocus();(this.image?this.image.get():null)||b||this.opts.toolbarInline?(c.removeClass("fr-hidden"),c.next(".fr-separator").removeClass("fr-hidden")):(c.addClass("fr-hidden"),c.next(".fr-separator").addClass("fr-hidden"))},plugin:"link"}),a.FE.DefineIcon("linkList",{NAME:"search"}),a.FE.RegisterCommand("linkList",{title:"Choose Link",type:"dropdown",focus:!1,undo:!1,refreshAfterCallback:!1,html:function(){for(var c='<ul class="fr-dropdown-list" role="presentation">',b=this.opts.linkList,d=0;d<b.length;d++){c+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="linkList" data-param1="'+d+'">'+(b[d].displayText||b[d].text)+"</a></li>"}return c+="</ul>"},callback:function(c,b){this.link.usePredefined(b)},plugin:"link"}),a.FE.RegisterCommand("linkInsert",{focus:!1,refreshAfterCallback:!1,callback:function(){this.link.insertCallback()},refresh:function(b){this.link.get()?b.text(this.language.translate("Update")):b.text(this.language.translate("Insert"))},plugin:"link"}),a.FE.DefineIcon("imageLink",{NAME:"link"}),a.FE.RegisterCommand("imageLink",{title:"Insert Link",undo:!1,focus:!1,popup:!0,callback:function(){this.link.imageLink()},refresh:function(c){var b;this.link.get()?((b=c.prev()).hasClass("fr-separator")&&b.removeClass("fr-hidden"),c.addClass("fr-hidden")):((b=c.prev()).hasClass("fr-separator")&&b.addClass("fr-hidden"),c.removeClass("fr-hidden"))},plugin:"link"}),a.FE.DefineIcon("linkStyle",{NAME:"magic"}),a.FE.RegisterCommand("linkStyle",{title:"Style",type:"dropdown",html:function(){var c='<ul class="fr-dropdown-list" role="presentation">',b=this.opts.linkStyles;for(var d in b){b.hasOwnProperty(d)&&(c+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="linkStyle" data-param1="'+d+'">'+this.language.translate(b[d])+"</a></li>")}return c+="</ul>"},callback:function(c,b){this.link.applyStyle(b)},refreshOnShow:function(d,c){var f=this.link.get();if(f){var b=a(f);c.find(".fr-command").each(function(){var h=a(this).data("param1"),g=b.hasClass(h);a(this).toggleClass("fr-active",g).attr("aria-selected",g)})}},refresh:function(b){this.link.get()?b.removeClass("fr-hidden"):b.addClass("fr-hidden")},plugin:"link"})});