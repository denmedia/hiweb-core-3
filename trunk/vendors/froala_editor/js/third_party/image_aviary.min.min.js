/*!
 * froala_editor v2.8.4 (https://www.froala.com/wysiwyg-editor)
 * License https://froala.com/wysiwyg-editor/terms/
 * Copyright 2014-2018 Froala Labs
 */
;!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof module&&module.exports?module.exports=function(c,b){return b===undefined&&(b="undefined"!=typeof window?require("jquery"):require("jquery")(c)),a(b)}:a(window.jQuery)}(function(a){if(a.extend(a.FE.DEFAULTS,{aviaryKey:"542e1ff5d5144b9b81cef846574ba6cf",aviaryScriptURL:"https://dme0ih8comzn4.cloudfront.net/imaging/v3/editor.js",aviaryOptions:{displayImageSize:!0,theme:"minimum"}}),a.FE.PLUGINS.imageAviary=function(c){function b(){c.shared.feather_editor=new Aviary.Feather(a.extend({apiKey:c.opts.aviaryKey,onSave:function(g,f){var d=new Image;d.crossOrigin="Anonymous",d.onload=function(){var m=document.createElement("CANVAS"),k=m.getContext("2d");m.height=this.height,m.width=this.width,k.drawImage(this,0,0);for(var j=m.toDataURL("image/png"),l=atob(j.split(",")[1]),h=[],q=0;q<l.length;q++){h.push(l.charCodeAt(q))}var p=new Blob([new Uint8Array(h)],{type:"image/png"});c.shared.feather_editor.instance.image.edit(a(c.shared.feather_editor.current_image)),c.shared.feather_editor.instance.image.upload([p]),c.shared.feather_editor.close()},d.src=f,c.shared.feather_editor.showWaitIndicator()},onError:function(d){throw new Error(d.message)},onClose:function(){c.shared.feather_editor.instance.image.get()||c.shared.feather_editor.instance.image.edit(a(c.shared.feather_editor.current_image))}},c.opts.aviaryOptions))}return{_init:function(){var g,f,d;c.shared.feather_editor||(c.shared.feather_editor=!0,"undefined"==typeof Aviary?(g=c.opts.aviaryScriptURL,f=b,(d=document.createElement("script")).type="text/javascript",d.defer="defer",d.src=g,d.innerText="",d.onload=f,document.getElementsByTagName("head")[0].appendChild(d)):b())},launch:function(d){"object"==typeof d.shared.feather_editor&&(d.shared.feather_editor.current_image=d.image.get()[0],(d.shared.feather_editor.instance=d).shared.feather_editor.launch({image:d.image.get()[0],url:d.image.get()[0].src}))}}},a.FE.DefineIcon("aviary",{NAME:"sliders",FA5NAME:"sliders-h"}),a.FE.RegisterCommand("aviary",{title:"Advanced Edit",undo:!1,focus:!1,callback:function(c,b){this.imageAviary.launch(this)},plugin:"imageAviary"}),!a.FE.PLUGINS.image){throw new Error("Image Aviary plugin requires image plugin.")}a.FE.DEFAULTS.imageEditButtons.push("aviary")});