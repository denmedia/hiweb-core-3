var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,c,b){a instanceof String&&(a=String(a));for(var d=a.length,e=0;e<d;e++){var f=a[e];if(c.call(b,f,e,a))return{i:e,v:f}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,b){a!=Array.prototype&&a!=Object.prototype&&(a[c]=b.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,c,b,d){if(c){b=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in b||(b[e]={});b=b[e]}a=a[a.length-1];d=b[a];c=c(d);c!=d&&null!=c&&$jscomp.defineProperty(b,a,{configurable:!0,writable:!0,value:c})}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,b){return $jscomp.findInternal(this,a,b).v}},"es6","es3");
var hw_input_post={init:function(){jQuery(".hiweb-field-post select").each(hw_input_post.make_selectize)},_load_posts:function(a,c,b){"string"!==typeof c&&(c="");var d=JSON.parse(a.attr("data-oprions"));jQuery.ajax({url:ajaxurl+"?action=hiweb-type-post",type:"POST",dataType:"json",data:{global_id:a.attr("data-global-id"),search:c,post_type:d.post_type},error:function(){"function"===b&&b()},success:function(a){a.hasOwnProperty("success")?a.success&&"function"===typeof b?b(a.items):console.warn(a):
console.error("hiweb-input-post: \u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0440\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u0437\u0430\u043f\u0438\u0441\u0435\u0439")}})},make_selectize:function(){var a=jQuery(this);a.selectize({closeAfterSelect:!0,allowEmptyOption:!0,valueField:"value",labelField:"title",searchField:"title",options:[],create:!1,onInitialize:function(){hw_input_post._load_posts(a,"",function(c){var b=jQuery.parseJSON(a.attr("data-value"));
a.each(function(){for(var a in c)this.selectize.addOption(c[a]);this.selectize.addItem(b)})})},load:function(c,b){if(!c.length)return b();hw_input_post._load_posts(a,c,b)}})}};jQuery(document).ready(hw_input_post.init);jQuery(document).on("hiweb-field-repeat-added-new-row","[data-col]",function(a,c,b,d){c.find(".hiweb-field-post select").each(hw_input_post.make_selectize)});
