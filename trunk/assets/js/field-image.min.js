var hiweb_field_image={init:function(){jQuery("body").on("click",'.hiweb-field-image[data-has-image="0"]',function(b){var a=jQuery(b.currentTarget).closest(".hiweb-field-image");hiweb_field_image.event_click_select(a)});jQuery("body").on("click",'.hiweb-field-image[data-has-image="1"]',function(b){b.preventDefault();var a=jQuery(b.currentTarget).closest(".hiweb-field-image");hiweb_field_image.deselect_image(a)});jQuery("body").on("change",".hiweb-field-image input[name]",function(){console.info("!!!")})},event_click_select:function(b){var a=wp.media({title:"Выбор изображения",library:{type:"image"},multiple:false,button:{text:"Select Image"}});a.on("select",function(){hiweb_field_image.select_image(b,a.state().get("selection").first().toJSON())});a.open()},select_image:function(f,e){var a=f.find("input");var c=f.find(".thumbnail");switch("object"){case typeof e.sizes.medium:var b=e.sizes.medium.url;break;case typeof e.sizes.large:var b=e.sizes.large.url;break;case typeof e.sizes.thumbnail:var b=e.sizes.thumbnail.url;break;case typeof e.sizes.full:var b=e.sizes.full.url;break;default:var b=false}var d=e.id;a.val(d);a.trigger("change");c.css("background-image","url("+b+")");f.attr("data-has-image","1")},deselect_image:function(c){var a=c.find("input").val("");a.trigger("change");var b=c.find(".thumbnail");b.css("background-image","none");c.attr("data-has-image","0")}};jQuery(document).ready(hiweb_field_image.init);