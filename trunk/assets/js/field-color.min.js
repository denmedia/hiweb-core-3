jQuery(document).ready(function(a){var b={init:function(){jQuery("body").on("init_3",".hiweb-field-color",function(){b._make(this)});jQuery(".hiweb-field-color").each(function(){b._make(this)})},_make:function(c){jQuery("body").on("click",".hiweb-field-color .ui.icon.button",function(d){d.preventDefault()});jQuery(c).find("[data-colorpicker-show]").popup({inline:false,hoverable:true,position:"bottom center",popup:jQuery(".custom.popup"),on:"click",delay:{show:300,hide:800}});jQuery(c).find(".menu .item").tab({});jQuery(c).find("[data-colorpicker-wrap]").append("<canvas></canvas>");jQuery(c).find("[data-colorpicker-wrap]").find("img").each(function(){var d=a(this).parent().find("canvas")[0];this.addEventListener("click",function(f){if(f.offsetX){x=f.offsetX;y=f.offsetY}else{if(f.layerX){x=f.layerX;y=f.layerY}}b.useCanvas(d,this,function(){var e=d.getContext("2d").getImageData(x,y,1,1).data;b.select_color(c,b.rgbToHex(e[0],e[1],e[2]))})},false)})},select_color:function(d,c){a(d).find("input").val(c);a(d).find(".ui.icon.button").css("background-color",c)},useCanvas:function(c,d,e){c.width=d.width;c.height=d.height;c.getContext("2d").drawImage(d,0,0,d.width,d.height);return e()},_:function(c){return document.querySelector(c)},componentToHex:function(e){var d=e.toString(16);return d.length===1?"0"+d:d},rgbToHex:function(e,d,c){return"#"+b.componentToHex(e)+b.componentToHex(d)+b.componentToHex(c)},findPos:function(d){var e=0,c=0;if(d.offsetParent){do{e+=d.offsetLeft;c+=d.offsetTop}while(d=d.offsetParent);return{x:e,y:c}}return undefined}};b.init()});